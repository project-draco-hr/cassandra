{
  Keyspace systemKeyspace=Keyspace.open("system");
  ColumnFamilyStore hintStore=systemKeyspace.getColumnFamilyStore(SystemKeyspace.HINTS);
  hintStore.clearUnsafe();
  hintStore.metadata.gcGraceSeconds(36000);
  hintStore.setCompactionStrategyClass(SizeTieredCompactionStrategy.class.getCanonicalName());
  hintStore.disableAutoCompaction();
  Mutation rm=mutation();
  HintedHandOffManager.instance.hintFor(rm,System.currentTimeMillis(),HintedHandOffManager.calculateHintTTL(rm),UUID.randomUUID()).applyUnsafe();
  hintStore.forceBlockingFlush();
  assertEquals(1,hintStore.getLiveSSTables().size());
  HintedHandOffManager.instance.compact();
  assertEquals(1,hintStore.getLiveSSTables().size());
}
