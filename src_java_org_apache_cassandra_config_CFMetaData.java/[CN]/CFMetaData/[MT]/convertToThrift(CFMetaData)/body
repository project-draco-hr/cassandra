{
  org.apache.cassandra.thrift.CfDef def=new org.apache.cassandra.thrift.CfDef(cfm.ksName,cfm.cfName);
  def.setId(cfm.cfId);
  def.setColumn_type(cfm.cfType.name());
  def.setComparator_type(cfm.comparator.toString());
  if (cfm.subcolumnComparator != null) {
    def.setSubcomparator_type(cfm.subcolumnComparator.toString());
    def.setColumn_type("Super");
  }
  def.setComment(enforceCommentNotNull(cfm.comment));
  def.setRow_cache_size(cfm.rowCacheSize);
  def.setKey_cache_size(cfm.keyCacheSize);
  def.setRead_repair_chance(cfm.readRepairChance);
  def.setReplicate_on_write(cfm.replicateOnWrite);
  def.setGc_grace_seconds(cfm.gcGraceSeconds);
  def.setDefault_validation_class(cfm.defaultValidator.toString());
  def.setKey_validation_class(cfm.keyValidator.toString());
  def.setMin_compaction_threshold(cfm.minCompactionThreshold);
  def.setMax_compaction_threshold(cfm.maxCompactionThreshold);
  def.setRow_cache_save_period_in_seconds(cfm.rowCacheSavePeriodInSeconds);
  def.setKey_cache_save_period_in_seconds(cfm.keyCacheSavePeriodInSeconds);
  def.setMemtable_flush_after_mins(cfm.memtableFlushAfterMins);
  def.setMemtable_throughput_in_mb(cfm.memtableThroughputInMb);
  def.setMemtable_operations_in_millions(cfm.memtableOperationsInMillions);
  def.setMerge_shards_chance(cfm.mergeShardsChance);
  def.setKey_alias(cfm.getKeyName());
  def.setRow_cache_provider(cfm.getRowCacheProvider().getClass().getName());
  List<org.apache.cassandra.thrift.ColumnDef> column_meta=new ArrayList<org.apache.cassandra.thrift.ColumnDef>(cfm.column_metadata.size());
  for (  ColumnDefinition cd : cfm.column_metadata.values()) {
    org.apache.cassandra.thrift.ColumnDef tcd=new org.apache.cassandra.thrift.ColumnDef();
    tcd.setIndex_name(cd.getIndexName());
    tcd.setIndex_type(cd.getIndexType());
    tcd.setName(cd.name);
    tcd.setValidation_class(cd.getValidator().toString());
    column_meta.add(tcd);
  }
  def.setColumn_metadata(column_meta);
  return def;
}
