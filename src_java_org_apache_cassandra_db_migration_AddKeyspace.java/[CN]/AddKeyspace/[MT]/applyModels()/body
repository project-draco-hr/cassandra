{
  for (  CFMetaData cfm : ksm.cfMetaData().values()) {
    try {
      CFMetaData.map(cfm);
    }
 catch (    ConfigurationException ex) {
      throw new RuntimeException(ex);
    }
  }
  DatabaseDescriptor.setTableDefinition(ksm,newVersion);
  CFMetaData.fixMaxId();
  if (!clientMode) {
    Table.open(ksm.name);
    CommitLog.instance().forceNewSegment();
  }
}
