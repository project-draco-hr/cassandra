def insert(self):
    threads = []
    for i in xrange(N_THREADS):
        th = Inserter(i)
        threads.append(th)
        th.start()
    total = old_total = 0
    while True:
        time.sleep(10)
        old_total = total
        total = sum((th.count for th in threads))
        delta = (total - old_total)
        file('/tmp/progress', 'w').write(('%d at %d/s\n' % (total, (delta / 10))))
        if (not [th for th in threads if th.isAlive()]):
            file('/tmp/progress', 'w').write(('done -- %s\n' % str(total)))
            break
