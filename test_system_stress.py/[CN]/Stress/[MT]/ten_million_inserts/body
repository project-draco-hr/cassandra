def ten_million_inserts(self):
    threads = []
    for i in xrange(0, 10):
        th = Inserter()
        threads.append(th)
        th.start()
    total = 0
    while True:
        time.sleep(1)
        total = sum((th.count for th in threads))
        file('/tmp/progress', 'w').write(('%s\n' % str(total)))
        if (not [th for th in threads if th.isAlive()]):
            file('/tmp/progress', 'w').write(('done -- %s\n' % str(total)))
            break
