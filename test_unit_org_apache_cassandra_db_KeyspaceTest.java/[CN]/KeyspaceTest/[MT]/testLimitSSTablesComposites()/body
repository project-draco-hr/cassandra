{
  Keyspace keyspace=Keyspace.open("Keyspace1");
  ColumnFamilyStore cfs=keyspace.getColumnFamilyStore("StandardComposite2");
  cfs.disableAutoCompaction();
  CellNameType type=cfs.getComparator();
  DecoratedKey key=Util.dk("k");
  for (int j=0; j < 10; j++) {
    for (int i=0; i < 10; i++) {
      Mutation rm=new Mutation("Keyspace1",key.getKey());
      CellName colName=type.makeCellName(ByteBufferUtil.bytes("a" + i),ByteBufferUtil.bytes(j * 10 + i));
      rm.add("StandardComposite2",colName,ByteBufferUtil.EMPTY_BYTE_BUFFER,0);
      rm.apply();
    }
    cfs.forceBlockingFlush();
  }
  Composite start=type.builder().add(ByteBufferUtil.bytes("a5")).add(ByteBufferUtil.bytes(85)).build();
  Composite finish=type.builder().add(ByteBufferUtil.bytes("a5")).build().end();
  cfs.metric.sstablesPerReadHistogram.cf.clear();
  ColumnFamily cf=cfs.getColumnFamily(key,start,finish,false,1000,System.currentTimeMillis());
  int colCount=0;
  for (  Cell c : cf)   colCount++;
  assertEquals(2,colCount);
  assertEquals(2,cfs.metric.sstablesPerReadHistogram.cf.max(),0.1);
}
