def _expect_exception(fn, type_):
    try:
        r = fn()
    except type_ as t:
        return t
    else:
        raise Exception(('expected %s; got %s' % (type_.__name__, r)))
