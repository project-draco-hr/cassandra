{
  ByteBuffer value1=ByteBufferUtil.bytes(1);
  ByteBuffer value2=ByteBufferUtil.bytes(2);
  ByteBuffer value3=ByteBufferUtil.bytes(3);
  SingleColumnRestriction.EQ eq=new SingleColumnRestriction.EQ(toTerm(value1),false);
  SingleColumnRestriction.IN in=new SingleColumnRestriction.InWithValues(toTerms(value1,value2,value3));
  Restriction[] restrictions=new Restriction[]{eq,in};
  CFDefinition cfDef=createCFDefinition(restrictions.length);
  List<ByteBuffer> bounds=executeBuildBound(cfDef,restrictions,Bound.START);
  assertEquals(3,bounds.size());
  assertComposite(cfDef,bounds.get(0),value1,value1);
  assertComposite(cfDef,bounds.get(1),value1,value2);
  assertComposite(cfDef,bounds.get(2),value1,value3);
  bounds=executeBuildBound(cfDef,restrictions,Bound.END);
  assertEquals(3,bounds.size());
  assertComposite(cfDef,bounds.get(0),value1,value1);
  assertComposite(cfDef,bounds.get(1),value1,value2);
  assertComposite(cfDef,bounds.get(2),value1,value3);
}
