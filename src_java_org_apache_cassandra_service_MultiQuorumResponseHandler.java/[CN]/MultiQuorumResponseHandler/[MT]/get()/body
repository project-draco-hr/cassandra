{
  long startTime=System.currentTimeMillis();
  lock_.lock();
  try {
    boolean bVal=true;
    try {
      if (!done_.get()) {
        bVal=condition_.await(DatabaseDescriptor.getRpcTimeout(),TimeUnit.MILLISECONDS);
      }
    }
 catch (    InterruptedException ex) {
      logger_.debug(LogUtil.throwableToString(ex));
    }
    if (!bVal && !done_.get()) {
      StringBuilder sb=new StringBuilder("");
      for (      Row row : responses_) {
        sb.append(row.key());
        sb.append(":");
      }
      throw new TimeoutException("Operation timed out - received only " + responses_.size() + " responses from "+ sb.toString()+ " .");
    }
  }
  finally {
    lock_.unlock();
  }
  logger_.info("MultiQuorumResponseHandler: " + (System.currentTimeMillis() - startTime) + " ms.");
  return responses_.toArray(new Row[0]);
}
