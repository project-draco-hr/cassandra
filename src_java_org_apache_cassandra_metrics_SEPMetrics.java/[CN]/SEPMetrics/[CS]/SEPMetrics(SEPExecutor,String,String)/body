{
  this.factory=new ThreadPoolMetricNameFactory("ThreadPools",path,poolName);
  activeTasks=Metrics.newGauge(factory.createMetricName("ActiveTasks"),new Gauge<Integer>(){
    public Integer value(){
      return executor.getActiveCount();
    }
  }
);
  pendingTasks=Metrics.newGauge(factory.createMetricName("PendingTasks"),new Gauge<Long>(){
    public Long value(){
      return executor.getPendingTasks();
    }
  }
);
  totalBlocked=Metrics.newGauge(factory.createMetricName("TotalBlockedTasks"),new Gauge<Integer>(){
    public Integer value(){
      return executor.getTotalBlockedTasks();
    }
  }
);
  currentBlocked=Metrics.newGauge(factory.createMetricName("CurrentlyBlockedTasks"),new Gauge<Long>(){
    public Long value(){
      return (long)executor.getCurrentlyBlockedTasks();
    }
  }
);
  completedTasks=Metrics.newGauge(factory.createMetricName("CompletedTasks"),new Gauge<Long>(){
    public Long value(){
      return executor.getCompletedTasks();
    }
  }
);
  maxPoolSize=Metrics.newGauge(factory.createMetricName("MaxPoolSize"),new Gauge<Integer>(){
    public Integer value(){
      return executor.maxWorkers;
    }
  }
);
}
