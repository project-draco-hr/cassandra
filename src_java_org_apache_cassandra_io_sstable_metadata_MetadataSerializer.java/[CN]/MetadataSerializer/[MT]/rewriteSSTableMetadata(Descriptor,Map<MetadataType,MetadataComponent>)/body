{
  Descriptor tmpDescriptor=descriptor.asTemporary(true);
  try (DataOutputStreamAndChannel out=new DataOutputStreamAndChannel(new FileOutputStream(tmpDescriptor.filenameFor(Component.STATS)))){
    serialize(currentComponents,out);
    out.flush();
  }
   if (!FBUtilities.isUnix())   FileUtils.delete(descriptor.filenameFor(Component.STATS));
  FileUtils.renameWithConfirm(tmpDescriptor.filenameFor(Component.STATS),descriptor.filenameFor(Component.STATS));
}
