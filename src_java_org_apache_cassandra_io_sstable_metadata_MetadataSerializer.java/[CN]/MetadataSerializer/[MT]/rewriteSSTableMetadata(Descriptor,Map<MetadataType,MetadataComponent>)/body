{
  Descriptor tmpDescriptor=descriptor.asType(Descriptor.Type.TEMP);
  try (DataOutputStreamPlus out=new BufferedDataOutputStreamPlus(new FileOutputStream(tmpDescriptor.filenameFor(Component.STATS)))){
    serialize(currentComponents,descriptor.version,out);
    out.flush();
  }
   if (FBUtilities.isWindows())   FileUtils.delete(descriptor.filenameFor(Component.STATS));
  FileUtils.renameWithConfirm(tmpDescriptor.filenameFor(Component.STATS),descriptor.filenameFor(Component.STATS));
}
