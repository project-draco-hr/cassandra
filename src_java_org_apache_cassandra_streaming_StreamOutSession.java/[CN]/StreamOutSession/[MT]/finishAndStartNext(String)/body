{
  PendingFile pf=fileMap.remove(pfname);
  files.remove(pf);
  if (files.isEmpty()) {
    if (logger.isDebugEnabled())     logger.debug("Signalling that streaming is done for {} session {}",getHost(),getSessionId());
    close();
    condition.signalAll();
  }
 else {
    streamFile(files.get(0));
  }
}
