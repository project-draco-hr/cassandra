{
  final File manifestFile=directories.getSnapshotManifestFile(snapshotName);
  final JSONObject manifestJSON=new JSONObject();
  manifestJSON.put("files",filesJSONArr);
  try {
    if (!manifestFile.getParentFile().exists())     manifestFile.getParentFile().mkdirs();
    PrintStream out=new PrintStream(manifestFile);
    out.println(manifestJSON.toJSONString());
    out.close();
  }
 catch (  IOException e) {
    throw new FSWriteError(e,manifestFile);
  }
}
