{
  if (metadata.compactionStrategyClass.equals(compactionStrategy.getClass()) && metadata.compactionStrategyOptions.equals(compactionStrategy.options))   return;
synchronized (this) {
    compactionStrategy.shutdown();
    compactionStrategy=metadata.createCompactionStrategyInstance(this);
    compactionStrategy.startup();
  }
}
