{
  if (!minCompactionThreshold.isModified())   for (  ColumnFamilyStore cfs : concatWithIndexes())   cfs.minCompactionThreshold=new DefaultInteger(metadata.getMinCompactionThreshold());
  if (!maxCompactionThreshold.isModified())   for (  ColumnFamilyStore cfs : concatWithIndexes())   cfs.maxCompactionThreshold=new DefaultInteger(metadata.getMaxCompactionThreshold());
  if (!memtime.isModified())   for (  ColumnFamilyStore cfs : concatWithIndexes())   cfs.memtime=new DefaultInteger(metadata.getMemtableFlushAfterMins());
  if (!memsize.isModified())   for (  ColumnFamilyStore cfs : concatWithIndexes())   cfs.memsize=new DefaultInteger(metadata.getMemtableThroughputInMb());
  if (!memops.isModified())   for (  ColumnFamilyStore cfs : concatWithIndexes())   cfs.memops=new DefaultDouble(metadata.getMemtableOperationsInMillions());
  if (!rowCacheSaveInSeconds.isModified())   rowCacheSaveInSeconds=new DefaultInteger(metadata.getRowCacheSavePeriodInSeconds());
  if (!keyCacheSaveInSeconds.isModified())   keyCacheSaveInSeconds=new DefaultInteger(metadata.getKeyCacheSavePeriodInSeconds());
  ssTables.updateCacheSizes();
  scheduleCacheSaving(rowCacheSaveInSeconds.value(),keyCacheSaveInSeconds.value());
  for (  ByteBuffer indexName : indexedColumns.keySet()) {
    if (!metadata.getColumn_metadata().containsKey(indexName)) {
      ColumnFamilyStore indexCfs=indexedColumns.remove(indexName);
      if (indexCfs == null) {
        logger.debug("index {} already removed; ignoring",ByteBufferUtil.bytesToHex(indexName));
        continue;
      }
      indexCfs.unregisterMBean();
      SystemTable.setIndexRemoved(metadata.tableName,metadata.cfName);
      indexCfs.removeAllSSTables();
    }
  }
  for (  ColumnDefinition cdef : metadata.getColumn_metadata().values())   if (cdef.getIndexType() != null && !indexedColumns.containsKey(cdef.name))   addIndex(cdef);
}
