{
  Iterable<PartitionUpdate> updates=Iterables.concat(Iterables.transform(mutations,new Function<IMutation,Collection<PartitionUpdate>>(){
    public Collection<PartitionUpdate> apply(    IMutation im){
      return im.getPartitionUpdates();
    }
  }
));
  verifyBatchSize(updates);
  verifyBatchType(updates);
  boolean mutateAtomic=(type == Type.LOGGED && mutations.size() > 1);
  StorageProxy.mutateWithTriggers(mutations,cl,mutateAtomic);
}
