{
  String pidFile=System.getProperty("cassandra-pidfile");
  try {
    setup();
    if (pidFile != null) {
      new File(pidFile).deleteOnExit();
    }
    if (System.getProperty("cassandra-foreground") == null) {
      System.out.close();
      System.err.close();
    }
    start();
  }
 catch (  Throwable e) {
    String msg="Exception encountered during startup.";
    logger.error(msg,e);
    System.out.println(msg);
    e.printStackTrace();
    System.exit(3);
  }
}
