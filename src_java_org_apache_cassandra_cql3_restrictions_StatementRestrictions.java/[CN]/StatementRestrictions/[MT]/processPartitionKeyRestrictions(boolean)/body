{
  if (partitionKeyRestrictions.isOnToken())   isKeyRange=true;
  if (hasPartitionKeyUnrestrictedComponents()) {
    if (!partitionKeyRestrictions.isEmpty()) {
      if (!hasQueriableIndex)       throw invalidRequest("Partition key parts: %s must be restricted as other parts are",Joiner.on(", ").join(getPartitionKeyUnrestrictedComponents()));
    }
    isKeyRange=true;
    usesSecondaryIndexing=hasQueriableIndex;
  }
}
