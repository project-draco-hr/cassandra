{
  lock.readLock().lock();
  try {
    Map<InetAddress,UUID> readMap=new HashMap<InetAddress,UUID>();
    readMap.putAll(endpointToHostIdMap);
    return readMap;
  }
  finally {
    lock.readLock().unlock();
  }
}
