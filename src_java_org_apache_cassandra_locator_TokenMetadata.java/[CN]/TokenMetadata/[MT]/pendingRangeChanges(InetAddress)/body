{
  int n=0;
  Range<Token> sourceRange=getPrimaryRangeFor(getToken(source));
  lock.readLock().lock();
  try {
    for (    Token token : bootstrapTokens.keySet())     if (sourceRange.contains(token))     n++;
  }
  finally {
    lock.readLock().unlock();
  }
  return n;
}
