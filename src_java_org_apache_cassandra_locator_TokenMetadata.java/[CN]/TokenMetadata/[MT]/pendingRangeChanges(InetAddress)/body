{
  int n=0;
  Range sourceRange=getPrimaryRangeFor(getToken(source));
  for (  Map.Entry<Range,InetAddress> entry : pendingRanges.entrySet()) {
    if (sourceRange.contains(entry.getKey().right()) || entry.getValue().equals(source))     n++;
  }
  return n;
}
