{
  ReadCommand.Type msgType=ReadCommand.Type.fromSerializedValue(in.readByte());
switch (msgType) {
case GET_BY_NAMES:
    return SliceByNamesReadCommand.serializer.deserialize(in,version);
case GET_SLICES:
  return SliceFromReadCommand.serializer.deserialize(in,version);
default :
throw new AssertionError();
}
}
