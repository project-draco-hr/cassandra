{
  ReadCommand.Type msgType=ReadCommand.Type.fromSerializedValue(dis.readByte());
switch (msgType) {
case GET_BY_NAMES:
    return SliceByNamesReadCommand.serializer.deserialize(dis,version);
case GET_SLICES:
  return SliceFromReadCommand.serializer.deserialize(dis,version);
default :
throw new AssertionError();
}
}
