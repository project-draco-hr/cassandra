{
  RowUpdateBuilder adder=new RowUpdateBuilder(Tables,timestamp,mutation).clustering(table.cfName);
  addTableParamsToSchemaMutation(table.params,adder);
  adder.add("id",table.cfId).set("flags",CFMetaData.flagsToStrings(table.flags())).build();
  if (withColumnsAndTriggers) {
    for (    ColumnDefinition column : table.allColumns())     addColumnToSchemaMutation(table,column,timestamp,mutation);
    for (    CFMetaData.DroppedColumn column : table.getDroppedColumns().values())     addDroppedColumnToSchemaMutation(table,column,timestamp,mutation);
    for (    TriggerMetadata trigger : table.getTriggers())     addTriggerToSchemaMutation(table,trigger,timestamp,mutation);
    for (    MaterializedViewDefinition materializedView : table.getMaterializedViews())     addMaterializedViewToSchemaMutation(table,materializedView,timestamp,mutation);
    for (    IndexMetadata index : table.getIndexes())     addIndexToSchemaMutation(table,index,timestamp,mutation);
  }
}
