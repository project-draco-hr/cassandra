{
  CFMetaData cfMetaData=newCFMetaData(Sort.ASC,Sort.ASC);
  ByteBuffer value1=ByteBufferUtil.bytes(1);
  ByteBuffer value2=ByteBufferUtil.bytes(2);
  ByteBuffer value3=ByteBufferUtil.bytes(3);
  Restriction in=newMultiIN(cfMetaData,0,asList(value1,value2),asList(value2,value3));
  PrimaryKeyRestrictions restrictions=new PrimaryKeyRestrictionSet(cfMetaData.comparator);
  restrictions=restrictions.mergeWith(in);
  List<Composite> bounds=restrictions.boundsAsComposites(cfMetaData,Bound.START,QueryOptions.DEFAULT);
  assertEquals(2,bounds.size());
  assertComposite(bounds.get(0),value1,value2,EOC.START);
  assertComposite(bounds.get(1),value2,value3,EOC.START);
  bounds=restrictions.boundsAsComposites(cfMetaData,Bound.END,QueryOptions.DEFAULT);
  assertEquals(2,bounds.size());
  assertComposite(bounds.get(0),value1,value2,EOC.END);
  assertComposite(bounds.get(1),value2,value3,EOC.END);
}
