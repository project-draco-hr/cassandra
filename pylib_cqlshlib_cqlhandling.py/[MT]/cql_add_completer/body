def cql_add_completer(rulename, symname):
    registrator = completer_for(rulename, symname)

    def more_registration(f):
        f = registrator(f)
        CqlRuleSet.register_completer(f, rulename, symname)
        return f
    return more_registration
