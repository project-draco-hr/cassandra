{
  if (version <= MessagingService.VERSION_11)   input.readInt();
  String id=input.readUTF();
  MessageIn message=MessageIn.read(input,version,id);
  if (message == null) {
    return null;
  }
  if (version <= MessagingService.current_version) {
    MessagingService.instance().receive(message,id);
  }
 else {
    logger.debug("Received connection from newer protocol version {}. Ignoring message",version);
  }
  return message.from;
}
