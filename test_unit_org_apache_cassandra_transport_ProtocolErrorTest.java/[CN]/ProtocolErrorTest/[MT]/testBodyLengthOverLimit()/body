{
  Frame.Decoder dec=new Frame.Decoder(null);
  List<Object> results=new ArrayList<>();
  byte[] frame=new byte[]{(byte)0x82,0x00,0x01,0x09,0x7f,(byte)0xff,(byte)0xff,(byte)0xff};
  ByteBuf buf=Unpooled.wrappedBuffer(frame);
  try {
    dec.decode(null,buf,results);
    Assert.fail("Expected protocol error");
  }
 catch (  ErrorMessage.WrappedException e) {
    Assert.assertEquals(1,e.getStreamId());
  }
}
