{
  if (hintStore.isEmpty())   return;
  if (hintedHandOffPaused) {
    logger.debug("Hints delivery process is paused, aborting");
    return;
  }
  logger.debug("Checking remote({}) schema before delivering hints",endpoint);
  try {
    waitForSchemaAgreement(endpoint);
  }
 catch (  TimeoutException e) {
    return;
  }
  if (!FailureDetector.instance.isAlive(endpoint)) {
    logger.debug("Endpoint {} died before hint delivery, aborting",endpoint);
    return;
  }
  doDeliverHintsToEndpoint(endpoint);
  hintStore.forceBlockingFlush();
}
