{
  long memoryUsage=(cache.size() + 1) * instance.getBufferSize();
  if (memoryUsage >= MEMORY_USAGE_THRESHOLD)   instance.deallocate();
 else   getCacheFor(instance.getPath()).add(instance);
}
