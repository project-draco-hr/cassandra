def connectionMade(self):
    TTwisted.ThriftClientProtocol.connectionMade(self)
    self.client.protocol = self
    d = self.setupConnection()
    d.addCallbacks((lambda res: self.factory.clientIdle(self, res)), self.setupFailed)
