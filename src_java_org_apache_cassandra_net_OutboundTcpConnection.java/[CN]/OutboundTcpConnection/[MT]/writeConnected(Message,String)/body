{
  try {
    write(message,id,out);
    if (queue.peek() == null) {
      out.flush();
    }
  }
 catch (  IOException e) {
    if (logger.isDebugEnabled())     logger.debug("error writing to " + poolReference.endPoint(),e);
    disconnect();
  }
}
