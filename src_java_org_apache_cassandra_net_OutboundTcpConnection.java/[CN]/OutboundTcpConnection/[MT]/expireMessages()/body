{
  Iterator<QueuedMessage> iter=backlog.iterator();
  while (iter.hasNext()) {
    QueuedMessage qm=iter.next();
    if (qm.timestamp >= System.currentTimeMillis() - qm.message.getTimeout())     return;
    iter.remove();
    dropped.incrementAndGet();
  }
}
