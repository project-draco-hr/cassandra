{
  if (Gossiper.instance.getVersion(poolReference.endPoint()) >= MessagingService.current_version && (DatabaseDescriptor.internodeCompression() == Config.InternodeCompression.all || (DatabaseDescriptor.internodeCompression() == Config.InternodeCompression.dc && !writeToLocalDC)))   return true;
  return false;
}
