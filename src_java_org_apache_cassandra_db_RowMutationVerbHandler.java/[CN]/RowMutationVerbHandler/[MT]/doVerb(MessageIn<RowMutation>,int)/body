{
  try {
    RowMutation rm=message.payload;
    byte[] from=message.parameters.get(RowMutation.FORWARD_FROM);
    InetAddress replyTo;
    if (from == null) {
      replyTo=message.from;
      byte[] forwardBytes=message.parameters.get(RowMutation.FORWARD_TO);
      if (forwardBytes != null)       forwardToLocalNodes(rm,message.verb,forwardBytes,message.from,message.version);
    }
 else {
      replyTo=InetAddress.getByAddress(from);
    }
    rm.apply();
    WriteResponse response=new WriteResponse();
    Tracing.trace("Enqueuing response to {}",replyTo);
    MessagingService.instance().sendReply(response.createMessage(),id,replyTo);
  }
 catch (  IOException e) {
    logger.error("Error in row mutation",e);
  }
}
