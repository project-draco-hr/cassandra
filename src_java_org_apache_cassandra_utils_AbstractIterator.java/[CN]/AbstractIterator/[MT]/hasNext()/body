{
switch (state) {
case MUST_FETCH:
    state=State.FAILED;
  next=computeNext();
default :
if (state == State.DONE) return false;
state=State.HAS_NEXT;
return true;
case FAILED:
throw new IllegalStateException();
}
}
