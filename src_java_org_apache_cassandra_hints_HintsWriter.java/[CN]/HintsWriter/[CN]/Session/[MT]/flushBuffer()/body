{
  buffer.flip();
  if (buffer.remaining() > 0) {
    updateChecksum(globalCRC,buffer);
    channel.write(buffer);
  }
  buffer.clear();
}
