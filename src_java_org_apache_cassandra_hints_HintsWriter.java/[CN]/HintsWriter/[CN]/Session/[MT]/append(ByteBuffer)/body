{
  bytesWritten+=hint.remaining();
  if (hint.remaining() <= buffer.remaining()) {
    buffer.put(hint);
    return;
  }
  buffer.flip();
  updateChecksum(globalCRC,buffer);
  updateChecksum(globalCRC,hint);
  channel.write(new ByteBuffer[]{buffer,hint});
  buffer.clear();
}
