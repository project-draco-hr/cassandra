{
  ByteBuffer bytes=ByteBuffer.allocate(4 * stepLength);
  cc.writeElementAtOffset(bytes,0 * stepLength,FBUtilities.toByteArray(1),1L,1L);
  cc.writeElementAtOffset(bytes,1 * stepLength,FBUtilities.toByteArray(2),2L,2L);
  cc.writeElementAtOffset(bytes,2 * stepLength,FBUtilities.toByteArray(4),3L,3L);
  cc.writeElementAtOffset(bytes,3 * stepLength,FBUtilities.toByteArray(8),4L,4L);
  assertEquals(4,bytes.getInt(2 * stepLength));
  assertEquals(3L,bytes.getLong(2 * stepLength + idLength));
  bytes=cc.cleanNodeCounts(bytes,InetAddress.getByAddress(FBUtilities.toByteArray(4)));
  assertEquals(3 * stepLength,bytes.remaining());
  assertEquals(1,bytes.getInt(0 * stepLength));
  assertEquals(1L,bytes.getLong(0 * stepLength + idLength));
  assertEquals(2,bytes.getInt(1 * stepLength));
  assertEquals(2L,bytes.getLong(1 * stepLength + idLength));
  assertEquals(8,bytes.getInt(2 * stepLength));
  assertEquals(4L,bytes.getLong(2 * stepLength + idLength));
}
