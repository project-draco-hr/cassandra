{
  ByteBuffer left=ByteBuffer.allocate(4 * stepLength);
  cc.writeElementAtOffset(left,0 * stepLength,FBUtilities.toByteArray(1),1L,1L);
  cc.writeElementAtOffset(left,1 * stepLength,FBUtilities.toByteArray(2),2L,2L);
  cc.writeElementAtOffset(left,2 * stepLength,FBUtilities.toByteArray(4),3L,3L);
  cc.writeElementAtOffset(left,3 * stepLength,FBUtilities.getLocalAddress().getAddress(),3L,3L);
  ByteBuffer right=ByteBuffer.allocate(3 * stepLength);
  cc.writeElementAtOffset(right,0 * stepLength,FBUtilities.toByteArray(4),4L,4L);
  cc.writeElementAtOffset(right,1 * stepLength,FBUtilities.toByteArray(5),5L,5L);
  cc.writeElementAtOffset(right,2 * stepLength,FBUtilities.getLocalAddress().getAddress(),9L,9L);
  ByteBuffer merged=cc.merge(left,right);
  assertEquals(24L,cc.total(merged));
}
