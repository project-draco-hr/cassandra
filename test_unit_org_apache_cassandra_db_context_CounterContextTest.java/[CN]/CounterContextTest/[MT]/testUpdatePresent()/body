{
  byte[] context;
  context=new byte[stepLength * defaultEntries];
  for (int i=0; i < defaultEntries; i++) {
    cc.writeElementAtStepOffset(context,i,FBUtilities.toByteArray(i),1L,1L);
  }
  context=cc.update(context,InetAddress.getByAddress(FBUtilities.toByteArray(defaultEntries - 1)),10L);
  assertEquals(context.length,stepLength * defaultEntries);
  int offset=(defaultEntries - 1) * stepLength;
  assertEquals(2L,FBUtilities.byteArrayToLong(context,offset + idLength));
  assertEquals(11L,FBUtilities.byteArrayToLong(context,offset + idLength + clockLength));
  for (int i=0; i < defaultEntries - 1; i++) {
    offset=i * stepLength;
    assertEquals(i,FBUtilities.byteArrayToInt(context,offset));
    assertEquals(1L,FBUtilities.byteArrayToLong(context,offset + idLength));
    assertEquals(1L,FBUtilities.byteArrayToLong(context,offset + idLength + clockLength));
  }
}
