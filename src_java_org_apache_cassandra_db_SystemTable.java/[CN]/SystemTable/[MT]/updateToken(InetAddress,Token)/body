{
  if (ep.equals(FBUtilities.getBroadcastAddress())) {
    removeToken(token);
    return;
  }
  IPartitioner p=StorageService.getPartitioner();
  ColumnFamily cf=ColumnFamily.create(Table.SYSTEM_TABLE,STATUS_CF);
  cf.addColumn(new Column(p.getTokenFactory().toByteArray(token),ByteBuffer.wrap(ep.getAddress()),FBUtilities.timestampMicros()));
  RowMutation rm=new RowMutation(Table.SYSTEM_TABLE,RING_KEY);
  rm.add(cf);
  try {
    rm.apply();
  }
 catch (  IOException e) {
    throw new IOError(e);
  }
  forceBlockingFlush(STATUS_CF);
}
