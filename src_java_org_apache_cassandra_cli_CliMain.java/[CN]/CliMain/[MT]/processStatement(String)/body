{
  try {
    cliClient.executeCLIStmt(query);
  }
 catch (  Exception e) {
    String errorTemplate=sessionState.inFileMode() ? "Line " + lineNumber + " => " : "";
    if (e instanceof InvalidRequestException) {
      sessionState.err.println(errorTemplate + ((InvalidRequestException)e).getWhy());
    }
 else {
      String message=(e.getCause() == null) ? e.getMessage() : e.getCause().getMessage();
      sessionState.err.println(errorTemplate + message);
    }
    if (sessionState.debug) {
      e.printStackTrace(sessionState.err);
    }
    if (sessionState.batch || sessionState.inFileMode()) {
      System.exit(4);
    }
  }
 finally {
    lineNumber++;
  }
}
