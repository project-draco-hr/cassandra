def format_floating_point_type(val, colormap, float_precision, **_):
    if math.isnan(val):
        bval = 'NaN'
    elif math.isinf(val):
        bval = 'Infinity'
    else:
        bval = ('%.*g' % (float_precision, val))
    return colorme(bval, colormap, 'float')
