{
  openLock.lock();
  try {
    instances.remove(name);
    for (    String cfName : getColumnFamilies()) {
      ColumnFamilyStore cfs=columnFamilyStores.remove(cfName);
      if (cfs != null) {
        try {
          cfs.forceBlockingFlush();
        }
 catch (        ExecutionException e) {
          throw new IOException(e);
        }
catch (        InterruptedException e) {
          throw new IOException(e);
        }
      }
    }
  }
  finally {
    openLock.unlock();
  }
}
