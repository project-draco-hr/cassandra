{
  HttpConnection.HttpRequestMessage httpRequestMessage=(HttpConnection.HttpRequestMessage)message.getMessageBody()[0];
  try {
    HttpRequest httpRequest=httpRequestMessage.getHttpRequest();
    HttpWriteResponse httpServerResponse=new HttpWriteResponse(httpRequest);
    if (httpRequest.getMethod().toUpperCase().equals("GET")) {
      doGet(httpRequest,httpServerResponse);
    }
 else     if (httpRequest.getMethod().toUpperCase().equals("POST")) {
      doPost(httpRequest,httpServerResponse);
    }
    ByteBuffer buffer=httpServerResponse.flush();
    httpRequestMessage.getHttpConnection().write(buffer);
  }
 catch (  Exception e) {
    logger_.warn(LogUtil.throwableToString(e));
  }
}
