{
  long toRead=Math.min(FileStreamTask.CHUNK_SIZE,length - bytesRead);
  long lastRead=fc.transferFrom(socketChannel,offset + bytesRead,toRead);
  if (lastRead == 0)   throw new IOException("Transfer failed for remote file " + remoteFile);
  bytesRead+=lastRead;
  remoteFile.progress+=lastRead;
  return bytesRead;
}
