{
  FileOutputStream fos=new FileOutputStream(descriptor.filenameFor(SSTable.COMPONENT_FILTER));
  DataOutputStream stream=new DataOutputStream(fos);
  FilterFactory.serialize(bf,stream,descriptor.version.filterType);
  stream.flush();
  fos.getFD().sync();
  stream.close();
  long position=indexFile.getFilePointer();
  indexFile.close();
  FileUtils.truncate(indexFile.getPath(),position);
  summary.complete();
}
