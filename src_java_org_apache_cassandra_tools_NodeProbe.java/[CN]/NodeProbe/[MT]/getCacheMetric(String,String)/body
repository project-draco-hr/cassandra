{
  try {
switch (metricName) {
case "Capacity":
case "Entries":
case "HitRate":
case "Size":
      return JMX.newMBeanProxy(mbeanServerConn,new ObjectName("org.apache.cassandra.metrics:type=Cache,scope=" + cacheType + ",name="+ metricName),CassandraMetricsRegistry.JmxGaugeMBean.class).getValue();
case "Requests":
case "Hits":
    return JMX.newMBeanProxy(mbeanServerConn,new ObjectName("org.apache.cassandra.metrics:type=Cache,scope=" + cacheType + ",name="+ metricName),CassandraMetricsRegistry.JmxMeterMBean.class).getCount();
default :
  throw new RuntimeException("Unknown cache metric name.");
}
}
 catch (MalformedObjectNameException e) {
throw new RuntimeException(e);
}
}
