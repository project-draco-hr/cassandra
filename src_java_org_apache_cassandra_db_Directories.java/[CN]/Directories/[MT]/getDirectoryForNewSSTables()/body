{
  File path=getWriteableLocationAsFile();
  if (path == null && (DatabaseDescriptor.getDiskAccessMode() == Config.DiskAccessMode.mmap || DatabaseDescriptor.getIndexAccessMode() == Config.DiskAccessMode.mmap) && !FileUtils.isCleanerAvailable()) {
    logger.info("Forcing GC to free up disk space.  Upgrade to the Oracle JVM to avoid this");
    StorageService.instance.requestGC();
    SSTableDeletingTask.rescheduleFailedTasks();
    try {
      Thread.sleep(10000);
    }
 catch (    InterruptedException e) {
      throw new AssertionError(e);
    }
    path=getWriteableLocationAsFile();
  }
  return path;
}
