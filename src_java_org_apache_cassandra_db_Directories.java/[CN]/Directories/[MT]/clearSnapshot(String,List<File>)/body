{
  String tag=snapshotName == null ? "" : snapshotName;
  for (  File dir : snapshotDirectories) {
    File snapshotDir=new File(dir,join(SNAPSHOT_SUBDIR,tag));
    if (snapshotDir.exists()) {
      logger.debug("Removing snapshot directory {}",snapshotDir);
      try {
        FileUtils.deleteRecursive(snapshotDir);
      }
 catch (      FSWriteError e) {
        if (FBUtilities.isWindows())         SnapshotDeletingTask.addFailedSnapshot(snapshotDir);
 else         throw e;
      }
    }
  }
}
