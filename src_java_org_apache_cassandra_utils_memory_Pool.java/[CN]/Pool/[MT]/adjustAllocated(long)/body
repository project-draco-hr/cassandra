{
  if (size == 0)   return;
  while (true) {
    long cur=allocated.get();
    if (allocated.compareAndSet(cur,cur + size)) {
      if (size > 0) {
        maybeClean();
      }
      return;
    }
  }
}
