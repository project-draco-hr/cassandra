{
  address=ip.getHostAddress().replaceAll(":",".");
  factory=new DefaultNameFactory("Connection",address);
  commandPendingTasks=Metrics.register(factory.createMetricName("CommandPendingTasks"),new Gauge<Integer>(){
    public Integer getValue(){
      return connectionPool.cmdCon.getPendingMessages();
    }
  }
);
  commandCompletedTasks=Metrics.register(factory.createMetricName("CommandCompletedTasks"),new Gauge<Long>(){
    public Long getValue(){
      return connectionPool.cmdCon.getCompletedMesssages();
    }
  }
);
  commandDroppedTasks=Metrics.register(factory.createMetricName("CommandDroppedTasks"),new Gauge<Long>(){
    public Long getValue(){
      return connectionPool.cmdCon.getDroppedMessages();
    }
  }
);
  responsePendingTasks=Metrics.register(factory.createMetricName("ResponsePendingTasks"),new Gauge<Integer>(){
    public Integer getValue(){
      return connectionPool.ackCon.getPendingMessages();
    }
  }
);
  responseCompletedTasks=Metrics.register(factory.createMetricName("ResponseCompletedTasks"),new Gauge<Long>(){
    public Long getValue(){
      return connectionPool.ackCon.getCompletedMesssages();
    }
  }
);
  timeouts=Metrics.meter(factory.createMetricName("Timeouts"));
}
