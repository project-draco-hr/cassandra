from os.path import abspath, dirname, join
from thrift.transport import TTwisted
from thrift.protocol import TBinaryProtocol
from thrift.Thrift import TApplicationException
from twisted.internet import defer, reactor
from cassandra import Cassandra
from cassandra.ttypes import Compression, InvalidRequestException, CqlResultType, AuthenticationRequest, SchemaDisagreementException
try:
    from cql.errors import CQLException, InvalidCompressionScheme
    from cql.marshal import prepare
    from cql.decoders import SchemaDecoder
    from cql.results import RowsProxy
    from cql.connection import Connection as connection, COMPRESSION_SCHEMES, DEFAULT_COMPRESSION
except ImportError:
    import sys
    sys.path.append(join(abspath(dirname(__file__)), '..', '..', 'py'))
    from cql.errors import CQLException, InvalidCompressionScheme
    from cql.marshal import prepare
    from cql.decoders import SchemaDecoder
    from cql.results import RowsProxy
    from cql.connection import Connection as connection, COMPRESSION_SCHEMES, DEFAULT_COMPRESSION
