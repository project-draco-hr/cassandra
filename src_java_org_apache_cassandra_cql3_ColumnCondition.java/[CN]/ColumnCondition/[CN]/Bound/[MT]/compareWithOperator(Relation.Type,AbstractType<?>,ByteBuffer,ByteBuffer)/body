{
  if (value == null) {
switch (operator) {
case EQ:
      return otherValue == null;
case NEQ:
    return otherValue != null;
default :
  throw new InvalidRequestException(String.format("Invalid comparison with null for operator \"%s\"",operator));
}
}
 else if (otherValue == null) {
return operator.equals(Relation.Type.NEQ);
}
int comparison=type.compare(otherValue,value);
switch (operator) {
case EQ:
return comparison == 0;
case LT:
return comparison < 0;
case LTE:
return comparison <= 0;
case GT:
return comparison > 0;
case GTE:
return comparison >= 0;
case NEQ:
return comparison != 0;
default :
throw new AssertionError();
}
}
