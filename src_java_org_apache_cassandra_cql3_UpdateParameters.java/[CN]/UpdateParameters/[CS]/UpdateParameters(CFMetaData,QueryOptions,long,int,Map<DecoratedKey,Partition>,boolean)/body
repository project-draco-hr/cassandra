{
  this.metadata=metadata;
  this.options=options;
  int nowInSec=FBUtilities.nowInSeconds();
  this.defaultLiveness=SimpleLivenessInfo.forUpdate(timestamp,ttl,nowInSec,metadata);
  this.deletionLiveness=SimpleLivenessInfo.forDeletion(timestamp,nowInSec);
  this.deletionTime=new SimpleDeletionTime(timestamp,nowInSec);
  this.prefetchedRows=prefetchedRows;
  if (validateIndexedColumns) {
    SecondaryIndexManager manager=Keyspace.openAndGetStore(metadata).indexManager;
    indexManager=manager.hasIndexes() ? manager : null;
  }
 else {
    indexManager=null;
  }
  if (timestamp == Long.MIN_VALUE)   throw new InvalidRequestException(String.format("Out of bound timestamp, must be in [%d, %d]",Long.MIN_VALUE + 1,Long.MAX_VALUE));
}
