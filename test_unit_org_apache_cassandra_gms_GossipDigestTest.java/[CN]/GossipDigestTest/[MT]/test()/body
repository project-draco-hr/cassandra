{
  InetAddress endPoint=InetAddress.getByName("127.0.0.1");
  int generation=0;
  int maxVersion=123;
  GossipDigest expected=new GossipDigest(endPoint,generation,maxVersion);
  assertEquals(endPoint,expected.getEndPoint());
  assertEquals(generation,expected.getGeneration());
  assertEquals(maxVersion,expected.getMaxVersion());
  DataOutputBuffer output=new DataOutputBuffer();
  GossipDigest.serializer().serialize(expected,output);
  ByteArrayInputStream input=new ByteArrayInputStream(output.getData(),0,output.getLength());
  GossipDigest actual=GossipDigest.serializer().deserialize(new DataInputStream(input));
  assertEquals(0,expected.compareTo(actual));
}
