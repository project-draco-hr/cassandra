{
  Set<UUID> sessionsIds=new HashSet<>(sessions.size());
  for (  StreamSession session : sessions)   sessionsIds.add(session.id);
  StreamResultFuture future=new StreamResultFuture(planId,description,sessionsIds);
  StreamManager.instance.register(future);
  for (  StreamSession session : sessions) {
    session.register(future);
    Gossiper.instance.register(session);
    FailureDetector.instance.registerFailureDetectionEventListener(session);
    streamExecutor.submit(session);
  }
  return future;
}
