{
  final Map<String,String> indexOptions=Collections.singletonMap(SecondaryIndex.CUSTOM_INDEX_OPTION_NAME,PerRowSecondaryIndexTest.TestIndex.class.getName());
  return standardCFMD(ksName,cfName).keyValidator(AsciiType.instance).columnMetadata(new HashMap<ByteBuffer,ColumnDefinition>(){
{
      ByteBuffer cName=ByteBuffer.wrap("indexed".getBytes(Charsets.UTF_8));
      put(cName,new ColumnDefinition(cName,AsciiType.instance,IndexType.CUSTOM,indexOptions,ByteBufferUtil.bytesToHex(cName),null,ColumnDefinition.Type.REGULAR));
    }
  }
);
}
