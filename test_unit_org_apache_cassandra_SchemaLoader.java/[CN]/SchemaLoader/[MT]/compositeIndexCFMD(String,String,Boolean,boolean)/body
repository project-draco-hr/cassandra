{
  final Map<String,String> idxOpts=Collections.singletonMap(CompositesIndex.PREFIX_SIZE_OPTION,"1");
  final CompositeType composite=CompositeType.getInstance(Arrays.asList(new AbstractType<?>[]{UTF8Type.instance,UTF8Type.instance}));
  return new CFMetaData(ksName,cfName,ColumnFamilyType.Standard,composite,null).columnMetadata(new HashMap<ByteBuffer,ColumnDefinition>(){
{
      ByteBuffer cName=ByteBuffer.wrap("col1".getBytes(Charsets.UTF_8));
      IndexType idxType=withIdxType ? IndexType.COMPOSITES : null;
      put(cName,new ColumnDefinition(cName,UTF8Type.instance,idxType,idxOpts,withIdxType ? "col1_idx" : null,1));
    }
  }
);
}
