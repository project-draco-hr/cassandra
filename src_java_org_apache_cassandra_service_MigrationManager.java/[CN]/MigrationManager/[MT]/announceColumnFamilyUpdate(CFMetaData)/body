{
  cfm.validate();
  CFMetaData oldCfm=Schema.instance.getCFMetaData(cfm.ksName,cfm.cfName);
  if (oldCfm == null)   throw new ConfigurationException(String.format("Cannot update non existing column family '%s' in keyspace '%s'.",cfm.cfName,cfm.ksName));
  announce(oldCfm.toSchemaUpdate(cfm,FBUtilities.timestampMicros()));
}
