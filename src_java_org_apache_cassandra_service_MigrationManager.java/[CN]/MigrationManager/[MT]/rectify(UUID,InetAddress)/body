{
  UUID myVersion=DatabaseDescriptor.getDefsVersion();
  if (theirVersion.timestamp() == myVersion.timestamp())   return;
 else   if (theirVersion.timestamp() > myVersion.timestamp()) {
    logger.debug("My data definitions are old. Asking for updates since {}",myVersion.toString());
    announce(myVersion,Collections.singleton(endpoint));
  }
 else {
    logger.debug("Their data definitions are old. Sending updates since {}",theirVersion.toString());
    pushMigrations(theirVersion,myVersion,endpoint);
  }
}
