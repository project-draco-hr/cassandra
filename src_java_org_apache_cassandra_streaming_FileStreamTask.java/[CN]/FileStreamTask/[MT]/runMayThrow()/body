{
  SocketChannel channel=connect();
  try {
    stream(channel);
  }
  finally {
    try {
      channel.close();
    }
 catch (    IOException e) {
      if (logger.isDebugEnabled())       logger.debug("error closing socket",e);
    }
  }
  if (logger.isDebugEnabled())   logger.debug("Done streaming " + header.file);
}
