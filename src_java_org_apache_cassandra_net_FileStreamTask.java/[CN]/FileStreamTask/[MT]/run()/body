{
  TcpConnection connection=null;
  try {
    connection=new TcpConnection(from_,to_);
    File file=new File(file_);
    connection.stream(file,startPosition_,total_);
    if (logger_.isDebugEnabled())     logger_.debug("Done streaming " + file);
  }
 catch (  Exception e) {
    if (connection != null) {
      connection.errorClose();
    }
    throw new RuntimeException(e);
  }
}
