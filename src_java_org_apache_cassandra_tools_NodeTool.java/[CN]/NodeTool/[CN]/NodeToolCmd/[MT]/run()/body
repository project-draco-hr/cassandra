{
  if (isNotEmpty(username)) {
    if (isNotEmpty(passwordFilePath))     password=readUserPasswordFromFile(username,passwordFilePath);
    if (isEmpty(password))     password=promptAndReadPassword();
  }
  try (NodeProbe probe=connect()){
    execute(probe);
    if (probe.isFailed())     throw new RuntimeException("nodetool failed, check server logs");
  }
 catch (  IOException e) {
    throw new RuntimeException("Error while closing JMX connection",e);
  }
}
