{
  if (atom.isCell()) {
    if (openTombstones.isEmpty())     return;
    Iterator<LegacyRangeTombstone> iter=openTombstones.iterator();
    while (iter.hasNext()) {
      LegacyRangeTombstone tombstone=iter.next();
      if (metadata.comparator.compare(atom.clustering(),tombstone.stop.bound) >= 0)       iter.remove();
    }
  }
  LegacyRangeTombstone tombstone=atom.asRangeTombstone();
  if (tombstone.deletionTime.supersedes(partitionDeletion) && !tombstone.isRowDeletion(metadata) && !tombstone.isCollectionTombstone())   openTombstones.add(tombstone);
}
