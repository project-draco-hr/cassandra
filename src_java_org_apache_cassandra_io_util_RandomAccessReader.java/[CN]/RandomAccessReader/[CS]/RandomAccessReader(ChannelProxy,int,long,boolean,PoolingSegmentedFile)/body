{
  this.channel=channel.sharedCopy();
  this.owner=owner;
  if (bufferSize <= 0)   throw new IllegalArgumentException("bufferSize must be positive");
  fileLength=overrideLength <= 0 ? channel.size() : overrideLength;
  buffer=allocateBuffer(bufferSize,useDirectBuffer);
  buffer.limit(0);
}
