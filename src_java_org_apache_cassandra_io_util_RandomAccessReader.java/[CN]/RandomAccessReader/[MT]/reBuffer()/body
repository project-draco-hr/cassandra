{
  resetBuffer();
  try {
    if (bufferOffset >= channel.size())     return;
    channel.position(bufferOffset);
    int read=0;
    while (read < buffer.length) {
      int n=super.read(buffer,read,buffer.length - read);
      if (n < 0)       break;
      read+=n;
    }
    validBufferBytes=read;
    bytesSinceCacheFlush+=read;
  }
 catch (  IOException e) {
    throw new FSReadError(e,filePath);
  }
  if (skipIOCache && bytesSinceCacheFlush >= CACHE_FLUSH_INTERVAL_IN_BYTES) {
    CLibrary.trySkipCache(this.fd,0,0);
    bytesSinceCacheFlush=0;
  }
}
