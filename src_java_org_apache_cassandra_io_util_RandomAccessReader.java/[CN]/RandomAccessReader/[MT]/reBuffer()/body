{
  resetBuffer();
  if (bufferOffset >= channel.size())   return;
  channel.position(bufferOffset);
  int read=0;
  while (read < buffer.length) {
    int n=super.read(buffer,read,buffer.length - read);
    if (n < 0)     break;
    read+=n;
  }
  validBufferBytes=read;
  bytesSinceCacheFlush+=read;
  if (skipIOCache && bytesSinceCacheFlush >= MAX_BYTES_IN_PAGE_CACHE) {
    CLibrary.trySkipCache(this.fd,0,0);
    bytesSinceCacheFlush=0;
  }
}
