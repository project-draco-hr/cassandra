{
  for (int i=0; i < howMany; i++) {
    endpointTokens.add(new BigIntegerToken(String.valueOf(10 * i)));
    keyTokens.add(new BigIntegerToken(String.valueOf(10 * i + 5)));
  }
  for (int i=0; i < endpointTokens.size(); i++) {
    InetAddress ep=InetAddress.getByName("127.0.0." + String.valueOf(i + 1));
    ss.onChange(ep,StorageService.MOVE_STATE,new ApplicationState(StorageService.STATE_NORMAL + StorageService.Delimiter + partitioner.getTokenFactory().toString(endpointTokens.get(i))));
    hosts.add(ep);
  }
  for (int i=0; i < endpointTokens.size(); ++i)   assertTrue(ss.getTokenMetadata().isMember(hosts.get(i)));
}
