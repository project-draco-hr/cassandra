{
  options=options.withProtocolVersion(3);
  ByteBuffer[] buffers=new ByteBuffer[values.size()];
  for (int i=0; i < type.types.size(); i++) {
    ByteBuffer buffer=values.get(i).bindAndGet(options);
    if (buffer == null)     throw new InvalidRequestException("null is not supported inside user type literals");
    if (buffer.remaining() > FBUtilities.MAX_UNSIGNED_SHORT)     throw new InvalidRequestException(String.format("Value for field %s is too long. User type fields are limited to %d bytes but %d bytes provided",UTF8Type.instance.getString(type.columnNames.get(i)),FBUtilities.MAX_UNSIGNED_SHORT,buffer.remaining()));
    buffers[i]=buffer;
  }
  return buffers;
}
