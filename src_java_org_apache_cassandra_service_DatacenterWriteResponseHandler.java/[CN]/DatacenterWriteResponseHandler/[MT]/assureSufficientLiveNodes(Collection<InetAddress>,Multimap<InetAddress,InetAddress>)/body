{
  int liveNodes=0;
  try {
    for (    InetAddress destination : hintedEndpoints.keySet()) {
      if (writeEndpoints.contains(destination) && localdc.equals(endpointsnitch.getDatacenter(destination)))       liveNodes++;
    }
  }
 catch (  Exception ex) {
    throw new UnavailableException();
  }
  if (liveNodes < responseCount) {
    throw new UnavailableException();
  }
}
