{
  responses.add(message);
  int b=-1;
  try {
    if (localdc.equals(endpointsnitch.getDatacenter(message.getFrom()))) {
      b=blockFor.decrementAndGet();
    }
  }
 catch (  UnknownHostException e) {
    throw new RuntimeException(e);
  }
  if (b == 0) {
    condition.signal();
  }
  if (logger.isDebugEnabled())   logger.debug("Processed Message: " + message.toString());
}
