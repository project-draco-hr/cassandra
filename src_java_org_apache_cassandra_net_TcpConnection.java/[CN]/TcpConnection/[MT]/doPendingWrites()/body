{
synchronized (this) {
    try {
      while (!pendingWrites_.isEmpty()) {
        ByteBuffer buffer=pendingWrites_.peek();
        socketChannel_.write(buffer);
        if (buffer.remaining() > 0) {
          break;
        }
        pendingWrites_.remove();
      }
    }
 catch (    IOException ex) {
      logger_.error(LogUtil.throwableToString(ex));
      errorClose();
    }
 finally {
      if (!pendingWrites_.isEmpty()) {
        turnOnInterestOps(key_,SelectionKey.OP_WRITE);
      }
    }
  }
}
