{
  if (!updateAffectsView(partition))   return existing;
  Set<ColumnIdentifier> columns=new HashSet<>(this.columns.primaryKeyDefs.size());
  for (  ColumnDefinition def : this.columns.primaryKeyDefs)   columns.add(def.name);
  TemporalRow.Set rowSet;
  if (existing == null) {
    rowSet=separateRows(partition,columns);
    if (!isBuilding)     readLocalRows(rowSet);
  }
 else {
    rowSet=existing.withNewViewPrimaryKey(columns);
  }
  return rowSet;
}
