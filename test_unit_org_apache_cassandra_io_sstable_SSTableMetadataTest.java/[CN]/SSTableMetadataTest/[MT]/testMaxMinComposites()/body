{
  Table table=Table.open("Keyspace1");
  ColumnFamilyStore cfs=table.getColumnFamilyStore("StandardComposite2");
  CompositeType ct=CompositeType.getInstance(BytesType.instance,IntegerType.instance);
  ByteBuffer key=ByteBufferUtil.bytes("k");
  for (int i=0; i < 10; i++) {
    RowMutation rm=new RowMutation("Keyspace1",key);
    ByteBuffer colName=ct.builder().add(ByteBufferUtil.bytes("a" + (9 - i))).add(ByteBufferUtil.bytes(i)).build();
    rm.add("StandardComposite2",colName,ByteBufferUtil.EMPTY_BYTE_BUFFER,0);
    rm.apply();
  }
  cfs.forceBlockingFlush();
  key=ByteBufferUtil.bytes("k2");
  for (int i=0; i < 10; i++) {
    RowMutation rm=new RowMutation("Keyspace1",key);
    ByteBuffer colName=ct.builder().add(ByteBufferUtil.bytes("b" + (9 - i))).add(ByteBufferUtil.bytes(i)).build();
    rm.add("StandardComposite2",colName,ByteBufferUtil.EMPTY_BYTE_BUFFER,0);
    rm.apply();
  }
  cfs.forceBlockingFlush();
  cfs.forceMajorCompaction();
  assertEquals(cfs.getSSTables().size(),1);
  for (  SSTableReader sstable : cfs.getSSTables()) {
    assertEquals("b9",ByteBufferUtil.string(sstable.getSSTableMetadata().maxColumnNames.get(0)));
    assertEquals(9,ByteBufferUtil.toInt(sstable.getSSTableMetadata().maxColumnNames.get(1)));
    assertEquals("a0",ByteBufferUtil.string(sstable.getSSTableMetadata().minColumnNames.get(0)));
    assertEquals(0,ByteBufferUtil.toInt(sstable.getSSTableMetadata().minColumnNames.get(1)));
  }
}
