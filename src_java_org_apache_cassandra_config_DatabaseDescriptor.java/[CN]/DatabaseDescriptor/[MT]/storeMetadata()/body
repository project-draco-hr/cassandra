{
  int cfId=0;
  Set<String> tables=tableToCFMetaDataMap_.keySet();
  for (  String table : tables) {
    Table.TableMetadata tmetadata=Table.TableMetadata.instance(table);
    if (tmetadata.isEmpty()) {
      tmetadata=Table.TableMetadata.instance(table);
      Map<String,CFMetaData> columnFamilies=tableToCFMetaDataMap_.get(table);
      for (      String columnFamily : columnFamilies.keySet()) {
        tmetadata.add(columnFamily,cfId++,DatabaseDescriptor.getColumnType(table,columnFamily));
      }
    }
    tmetadata.add(SystemTable.cfName_,cfId++);
    tmetadata.add(Table.recycleBin_,cfId++);
    tmetadata.add(Table.hints_,cfId++,ColumnFamily.getColumnType("Super"));
  }
}
