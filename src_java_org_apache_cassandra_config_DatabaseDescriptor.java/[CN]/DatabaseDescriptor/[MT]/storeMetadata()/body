{
  int cfId=0;
  Set<String> tables=tableToCFMetaDataMap_.keySet();
  for (  String table : tables) {
    Table.TableMetadata tmetadata=Table.TableMetadata.instance(table);
    if (tmetadata.isEmpty()) {
      tmetadata=Table.TableMetadata.instance(table);
      Map<String,CFMetaData> columnFamilies=tableToCFMetaDataMap_.get(table);
      for (      String columnFamily : columnFamilies.keySet()) {
        tmetadata.add(columnFamily,cfId++,DatabaseDescriptor.getColumnType(table,columnFamily));
      }
    }
  }
  Table.TableMetadata tmetadata=Table.TableMetadata.instance(Table.SYSTEM_TABLE);
  tmetadata.add(SystemTable.LOCATION_CF,cfId++);
  tmetadata.add(HintedHandOffManager.HINTS_CF,cfId++,ColumnFamily.getColumnType("Super"));
}
