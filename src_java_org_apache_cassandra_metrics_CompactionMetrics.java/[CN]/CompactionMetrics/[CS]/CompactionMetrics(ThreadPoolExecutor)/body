{
  pendingTasks=CassandraMetricRegistry.register(MetricRegistry.name(GROUP_NAME,TYPE_NAME,"PendingTasks"),new Gauge<Integer>(){
    public Integer getValue(){
      int n=0;
      for (      String keyspaceName : Schema.instance.getKeyspaces()) {
        for (        ColumnFamilyStore cfs : Keyspace.open(keyspaceName).getColumnFamilyStores())         n+=cfs.getCompactionStrategy().getEstimatedRemainingTasks();
      }
      for (      ThreadPoolExecutor collector : collectors)       n+=collector.getTaskCount() - collector.getCompletedTaskCount();
      return n;
    }
  }
);
  completedTasks=CassandraMetricRegistry.register(MetricRegistry.name(GROUP_NAME,TYPE_NAME,"CompletedTasks"),new Gauge<Long>(){
    public Long getValue(){
      long completedTasks=0;
      for (      ThreadPoolExecutor collector : collectors)       completedTasks+=collector.getCompletedTaskCount();
      return completedTasks;
    }
  }
);
  totalCompactionsCompleted=CassandraMetricRegistry.get().meter(MetricRegistry.name(GROUP_NAME,TYPE_NAME,"TotalCompactionsCompleted"));
  bytesCompacted=CassandraMetricRegistry.get().counter(MetricRegistry.name(GROUP_NAME,TYPE_NAME,"BytesCompacted"));
}
