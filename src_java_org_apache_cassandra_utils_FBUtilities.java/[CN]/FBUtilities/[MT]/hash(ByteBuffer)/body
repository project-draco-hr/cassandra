{
  byte[] result;
  try {
    MessageDigest messageDigest=localMessageDigest.get();
    messageDigest.reset();
    for (    ByteBuffer block : data) {
      messageDigest.update(ByteBufferUtil.clone(block));
    }
    result=messageDigest.digest();
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  return result;
}
