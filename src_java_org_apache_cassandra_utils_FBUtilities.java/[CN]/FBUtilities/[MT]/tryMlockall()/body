{
  int errno=Integer.MIN_VALUE;
  try {
    int result=CLibrary.mlockall(CLibrary.MCL_CURRENT);
    if (result != 0)     errno=Native.getLastError();
  }
 catch (  UnsatisfiedLinkError e) {
    return;
  }
catch (  Exception e) {
    logger_.debug("Unable to mlockall",e);
    if (System.getProperty("os.name").toLowerCase().contains("linux")) {
      logger_.warn("Unable to lock JVM memory (" + e.getMessage() + ")."+ " This can result in part of the JVM being swapped out, especially with mmapped I/O enabled.");
    }
 else     if (!System.getProperty("os.name").toLowerCase().contains("windows")) {
      logger_.info("Unable to lock JVM memory: " + e.getMessage());
    }
    return;
  }
  if (errno != Integer.MIN_VALUE) {
    if (errno == CLibrary.ENOMEM && System.getProperty("os.name").toLowerCase().contains("linux")) {
      logger_.warn("Unable to lock JVM memory (ENOMEM)." + " This can result in part of the JVM being swapped out, especially with mmapped I/O enabled." + " Increase RLIMIT_MEMLOCK or run Cassandra as root.");
    }
 else     if (!System.getProperty("os.name").toLowerCase().contains("mac")) {
      logger_.warn("Unknown mlockall error " + errno);
    }
  }
}
