{
  try {
    lock_.lock();
    if (!done_.get()) {
      result_=result;
      done_.set(true);
      condition_.signal();
    }
  }
  finally {
    lock_.unlock();
  }
}
