{
  try {
    try {
      if (data.succeeded)       data.newLog().delete(false);
 else       data.oldLog().delete(false);
    }
 catch (    Throwable t) {
      accumulate=merge(accumulate,t);
    }
    accumulate=selfRef.ensureReleased(accumulate);
    return accumulate;
  }
 catch (  Throwable t) {
    logger.error("Failed to complete file transaction {}",getId(),t);
    return Throwables.merge(accumulate,t);
  }
}
