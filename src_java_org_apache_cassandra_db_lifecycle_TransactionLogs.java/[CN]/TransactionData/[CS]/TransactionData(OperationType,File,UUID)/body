{
  this.opType=opType;
  this.id=id;
  this.folder=folder;
  this.files=new TransactionFile[TransactionFile.Type.values().length];
  for (  TransactionFile.Type t : TransactionFile.Type.values())   this.files[t.idx]=new TransactionFile(t,this);
  this.folderDescriptor=CLibrary.tryOpenDirectory(folder.getPath());
  this.succeeded=!newLog().exists() && oldLog().exists();
}
