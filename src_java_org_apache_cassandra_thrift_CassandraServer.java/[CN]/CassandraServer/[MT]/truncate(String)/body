{
  ClientState cState=state();
  cState.hasColumnFamilyAccess(cfname,Permission.WRITE);
  if (startSessionIfRequested()) {
    Tracing.instance().begin("truncate",ImmutableMap.of("cf",cfname,"ks",cState.getKeyspace()));
  }
 else {
    logger.debug("truncating {}.{}",cState.getKeyspace(),cfname);
  }
  try {
    schedule(DatabaseDescriptor.getTruncateRpcTimeout());
    try {
      StorageProxy.truncateBlocking(cState.getKeyspace(),cfname);
    }
  finally {
      release();
    }
  }
 catch (  TimeoutException e) {
    logger.debug("... timed out");
    throw new TimedOutException();
  }
catch (  IOException e) {
    throw (UnavailableException)new UnavailableException().initCause(e);
  }
 finally {
    Tracing.instance().stopSession();
  }
}
