{
  if (logger.isDebugEnabled())   logger.debug("prepare_cql_query");
  String queryString=uncompress(query,compression);
  try {
    return QueryProcessor.prepare(queryString,state());
  }
 catch (  RecognitionException e) {
    InvalidRequestException ire=new InvalidRequestException("Invalid or malformed CQL query string");
    ire.initCause(e);
    throw ire;
  }
}
