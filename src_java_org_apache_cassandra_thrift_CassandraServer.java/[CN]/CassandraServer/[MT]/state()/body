{
  SocketAddress remoteSocket=SocketSessionManagementService.remoteSocket.get();
  ClientState retval=null;
  if (null != remoteSocket) {
    retval=SocketSessionManagementService.instance.get(remoteSocket);
    if (null == retval) {
      retval=new ClientState();
      SocketSessionManagementService.instance.put(remoteSocket,retval);
    }
  }
 else {
    retval=clientState.get();
  }
  return retval;
}
