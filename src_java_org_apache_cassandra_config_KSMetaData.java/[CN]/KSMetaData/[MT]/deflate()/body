{
  org.apache.cassandra.avro.KsDef ks=new org.apache.cassandra.avro.KsDef();
  ks.name=new Utf8(name);
  ks.strategy_class=new Utf8(strategyClass.getName());
  if (strategyOptions != null) {
    ks.strategy_options=new HashMap<CharSequence,CharSequence>();
    for (    Map.Entry<String,String> e : strategyOptions.entrySet()) {
      ks.strategy_options.put(new Utf8(e.getKey()),new Utf8(e.getValue()));
    }
  }
  ks.replication_factor=replicationFactor;
  ks.cf_defs=SerDeUtils.createArray(cfMetaData.size(),org.apache.cassandra.avro.CfDef.SCHEMA$);
  for (  CFMetaData cfm : cfMetaData.values())   ks.cf_defs.add(cfm.deflate());
  return ks;
}
