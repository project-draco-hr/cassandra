{
  Double result;
  String value=properties.get(key);
  if (value == null)   result=defaultValue;
 else {
    try {
      result=Double.parseDouble(value);
    }
 catch (    NumberFormatException e) {
      throw new InvalidRequestException(String.format("%s not valid for \"%s\"",value,key));
    }
  }
  return result;
}
