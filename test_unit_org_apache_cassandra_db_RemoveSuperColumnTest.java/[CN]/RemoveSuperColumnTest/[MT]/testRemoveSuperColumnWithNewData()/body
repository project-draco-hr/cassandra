{
  ColumnFamilyStore store=Table.open("Keyspace1").getColumnFamilyStore("Super2");
  RowMutation rm;
  rm=new RowMutation("Keyspace1","key1");
  addMutation(rm,"Super2","SC1",1,"val1",0);
  rm.apply();
  store.forceBlockingFlush();
  rm=new RowMutation("Keyspace1","key1");
  rm.delete(new QueryPath("Super2","SC1".getBytes()),1);
  rm.apply();
  rm=new RowMutation("Keyspace1","key1");
  addMutation(rm,"Super2","SC1",2,"val2",2);
  rm.apply();
  validateRemoveWithNewData();
  store.forceBlockingFlush();
  validateRemoveWithNewData();
  CompactionManager.instance.submitMajor(store).get();
  assertEquals(1,store.getSSTables().size());
  validateRemoveWithNewData();
}
