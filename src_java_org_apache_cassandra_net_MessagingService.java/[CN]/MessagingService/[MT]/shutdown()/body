{
  logger_.info("Shutting down ...");
synchronized (MessagingService.class) {
    for (    SelectionKey skey : listenSockets_.values()) {
      skey.cancel();
      try {
        skey.channel().close();
      }
 catch (      IOException e) {
      }
    }
    listenSockets_.clear();
    messageDeserializationExecutor_.shutdownNow();
    messageSerializerExecutor_.shutdownNow();
    messageDeserializerExecutor_.shutdownNow();
    streamExecutor_.shutdownNow();
    taskCompletionMap_.shutdown();
    callbackMap_.shutdown();
    SelectorManager.getSelectorManager().interrupt();
    poolTable_.clear();
    verbHandlers_.clear();
    bShutdown_=true;
  }
  if (logger_.isDebugEnabled())   logger_.debug("Shutdown invocation complete.");
}
