{
  logger.trace("Closing accept() thread");
  try {
    server.close();
  }
 catch (  IOException e) {
    if (!"Unknown error: 316".equals(e.getMessage()) || !"Mac OS X".equals(System.getProperty("os.name")))     throw e;
  }
  for (  Closeable connection : connections) {
    connection.close();
  }
}
