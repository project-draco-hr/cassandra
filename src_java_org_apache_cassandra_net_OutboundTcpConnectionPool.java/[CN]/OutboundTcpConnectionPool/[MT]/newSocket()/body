{
  if (isEncryptedChannel()) {
    return SSLFactory.getSocket(DatabaseDescriptor.getEncryptionOptions(),endPoint(),DatabaseDescriptor.getSSLStoragePort(),FBUtilities.getLocalAddress(),0);
  }
 else {
    return new Socket(endPoint(),DatabaseDescriptor.getStoragePort(),FBUtilities.getLocalAddress(),0);
  }
}
