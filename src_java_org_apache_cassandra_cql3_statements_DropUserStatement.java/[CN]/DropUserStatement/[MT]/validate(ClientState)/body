{
  state.ensureNotAnonymous();
  if (!ifExists && !Auth.isExistingUser(username))   throw new InvalidRequestException(String.format("User %s doesn't exist",username));
  AuthenticatedUser user=state.getUser();
  if (user != null && user.getName().equals(username))   throw new InvalidRequestException("Users aren't allowed to DROP themselves");
}
