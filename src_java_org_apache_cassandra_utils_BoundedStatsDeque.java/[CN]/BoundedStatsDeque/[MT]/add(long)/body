{
  if (!deque.offer(i)) {
    Long removed=deque.remove();
    sum.addAndGet(-removed);
    deque.offer(i);
  }
  sum.addAndGet(i);
}
