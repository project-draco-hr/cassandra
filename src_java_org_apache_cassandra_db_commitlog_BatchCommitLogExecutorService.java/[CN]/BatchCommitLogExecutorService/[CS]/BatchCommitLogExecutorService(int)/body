{
  queue=new LinkedBlockingQueue<CheaterFutureTask>(queueSize);
  Runnable runnable=new WrappedRunnable(){
    public void runMayThrow() throws Exception {
      while (run) {
        try {
          if (processWithSyncBatch())           completedTaskCount++;
        }
 catch (        Throwable t) {
          if (!CommitLog.handleCommitError("Failed to persist commits to disk",t))           return;
        }
      }
    }
  }
;
  appendingThread=new Thread(runnable,"COMMIT-LOG-WRITER");
  appendingThread.start();
}
