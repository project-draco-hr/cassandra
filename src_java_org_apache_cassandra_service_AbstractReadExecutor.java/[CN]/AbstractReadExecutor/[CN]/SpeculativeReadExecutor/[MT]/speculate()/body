{
  if (cfs.sampleLatency > TimeUnit.MILLISECONDS.toNanos(command.getTimeout()))   return;
  if (!handler.await(cfs.sampleLatency,TimeUnit.NANOSECONDS)) {
    InetAddress endpoint=unfiltered.get(handler.endpoints.size());
    ReadCommand scommand=command;
    if (resolver.getData() != null) {
      scommand=command.copy();
      scommand.setDigestQuery(true);
    }
    logger.trace("Speculating read retry on {}",endpoint);
    MessagingService.instance().sendRR(scommand.createMessage(),endpoint,handler);
    cfs.metric.speculativeRetry.inc();
  }
}
