{
  int result=Snappy.compress(src,dest.buffer);
  dest.buffer.position(dest.buffer.limit());
  dest.buffer.limit(dest.buffer.capacity());
  return result;
}
