{
  Multimap<InetAddress,Range<Token>> sources=ArrayListMultimap.create();
  for (  Range<Token> range : rangesWithSourceTarget.keySet()) {
    for (    InetAddress source : rangesWithSourceTarget.get(range)) {
      if (failureDetector.isAlive(source) && !source.equals(FBUtilities.getBroadcastAddress())) {
        sources.put(source,range);
        break;
      }
    }
  }
  return sources;
}
