{
  sb.append("  generation:").append(endpointState.getHeartBeatState().getGeneration()).append("\n");
  sb.append("  heartbeat:").append(endpointState.getHeartBeatState().getHeartBeatVersion()).append("\n");
  for (  Map.Entry<ApplicationState,VersionedValue> state : endpointState.applicationState.entrySet()) {
    if (state.getKey() == ApplicationState.TOKENS)     continue;
    sb.append("  ").append(state.getKey()).append(":").append(state.getValue().version).append(":").append(state.getValue().value).append("\n");
  }
  if (endpointState.applicationState.containsKey(ApplicationState.TOKENS)) {
    sb.append("  TOKENS:").append(endpointState.applicationState.get(ApplicationState.TOKENS).version).append(":<hidden>\n");
  }
 else {
    sb.append("  TOKENS: not present\n");
  }
}
