{
  if (!DatabaseDescriptor.getCompactionMultithreading())   return 1;
  return Math.max(2,Runtime.getRuntime().availableProcessors());
}
