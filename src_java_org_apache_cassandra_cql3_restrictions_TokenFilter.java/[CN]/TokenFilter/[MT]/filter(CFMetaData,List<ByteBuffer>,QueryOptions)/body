{
  RangeSet<Token> rangeSet=tokenRestriction.isSlice() ? toRangeSet(cfm,tokenRestriction,options) : toRangeSet(tokenRestriction.values(cfm,options));
  return filterWithRangeSet(rangeSet,values);
}
