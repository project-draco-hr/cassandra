{
  RangeSet<Token> rangeSet=tokenRestriction.hasSlice() ? toRangeSet(tokenRestriction,options) : toRangeSet(tokenRestriction.values(options));
  return filterWithRangeSet(rangeSet,values);
}
