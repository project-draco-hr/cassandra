{
  Token min=partitioner.getMinimumToken();
  if (this.left.equals(this.right) && !this.right.equals(min))   return range.contains(this.left) ? Collections.unmodifiableSet(new HashSet<AbstractBounds>(Arrays.asList(this))) : Collections.<AbstractBounds>emptySet();
  Set<Range> ranges=range.intersectionWith(new Range(this.left,this.right));
  if (!range.contains(this.left))   return (Set)ranges;
  Set<AbstractBounds> S=new HashSet<AbstractBounds>(ranges.size());
  for (  Range restricted : ranges) {
    if (restricted.left.equals(this.left))     S.add(new Bounds(restricted.left,restricted.right));
 else     S.add(restricted);
  }
  return Collections.unmodifiableSet(S);
}
