{
  BigInteger l=BigInteger.valueOf(((LongToken)lToken).token), r=BigInteger.valueOf(((LongToken)rToken).token), midpoint;
  if (l.compareTo(r) < 0) {
    BigInteger sum=l.add(r);
    midpoint=sum.shiftRight(1);
  }
 else {
    BigInteger max=BigInteger.valueOf(MAXIMUM);
    midpoint=max.add(r).subtract(l).shiftRight(1).add(l).mod(max);
  }
  return new LongToken(midpoint.longValue());
}
