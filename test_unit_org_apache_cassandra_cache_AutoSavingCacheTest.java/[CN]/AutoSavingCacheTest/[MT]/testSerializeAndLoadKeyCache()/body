{
  ColumnFamilyStore cfs=Keyspace.open(KEYSPACE1).getColumnFamilyStore(CF_STANDARD1);
  for (int i=0; i < 2; i++) {
    Mutation rm=new Mutation(KEYSPACE1,ByteBufferUtil.bytes("key1"));
    rm.add(CF_STANDARD1,Util.cellname("c1"),ByteBufferUtil.bytes(i),0);
    rm.applyUnsafe();
    cfs.forceBlockingFlush();
  }
  Assert.assertEquals(2,cfs.getSSTables().size());
  for (  SSTableReader sstable : cfs.getSSTables())   sstable.getPosition(Util.dk("key1"),SSTableReader.Operator.EQ);
  AutoSavingCache<KeyCacheKey,RowIndexEntry> keyCache=CacheService.instance.keyCache;
  keyCache.submitWrite(keyCache.size()).get();
  keyCache.clear();
  Assert.assertEquals(0,keyCache.size());
  keyCache.loadSavedAsync().get();
  for (  SSTableReader sstable : cfs.getSSTables())   Assert.assertNotNull(keyCache.get(new KeyCacheKey(cfs.metadata.ksAndCFName,sstable.descriptor,ByteBufferUtil.bytes("key1"))));
}
