{
  ColumnFamilyStore cfs=Keyspace.open("Keyspace1").getColumnFamilyStore("Standard1");
  for (int i=0; i < 2; i++) {
    Mutation rm=new Mutation("Keyspace1",ByteBufferUtil.bytes("key1"));
    rm.add("Standard1",Util.cellname("c1"),ByteBufferUtil.bytes(i),0);
    rm.apply();
    cfs.forceBlockingFlush();
  }
  Assert.assertEquals(2,cfs.getSSTables().size());
  for (  SSTableReader sstable : cfs.getSSTables())   sstable.getPosition(Util.dk("key1"),SSTableReader.Operator.EQ);
  AutoSavingCache<KeyCacheKey,RowIndexEntry> keyCache=CacheService.instance.keyCache;
  keyCache.submitWrite(keyCache.size()).get();
  keyCache.clear();
  Assert.assertEquals(0,keyCache.size());
  keyCache.loadSaved(cfs);
  Assert.assertEquals(2,keyCache.size());
  for (  SSTableReader sstable : cfs.getSSTables())   Assert.assertNotNull(keyCache.get(new KeyCacheKey(cfs.metadata.cfId,sstable.descriptor,ByteBufferUtil.bytes("key1"))));
}
