{
  String testStr="1234567890";
  byte[] testData=testStr.getBytes();
  DataInputStream dis=new DataInputStream(new ByteArrayInputStream(testData));
  BytesReadTracker tracker=new BytesReadTracker(dis);
  try {
    byte[] out=new byte[5];
    tracker.readFully(out,0,5);
    assertEquals("12345",new String(out));
    assertEquals(5,tracker.getBytesRead());
    tracker.skipBytes(2);
    assertEquals(7,tracker.getBytesRead());
    out=new byte[3];
    tracker.readFully(out);
    assertEquals("890",new String(out));
    assertEquals(10,tracker.getBytesRead());
  }
  finally {
    dis.close();
  }
}
