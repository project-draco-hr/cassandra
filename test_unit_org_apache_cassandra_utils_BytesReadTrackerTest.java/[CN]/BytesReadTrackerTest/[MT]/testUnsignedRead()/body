{
  byte[] testData;
  ByteArrayOutputStream baos=new ByteArrayOutputStream();
  DataOutputStream dos=new DataOutputStream(baos);
  try {
    dos.writeByte(0x1);
    dos.writeShort(1);
    testData=baos.toByteArray();
  }
  finally {
    dos.close();
  }
  DataInputStream dis=new DataInputStream(new ByteArrayInputStream(testData));
  BytesReadTracker tracker=new BytesReadTracker(dis);
  try {
    int b=tracker.readUnsignedByte();
    assertEquals(b,1);
    assertEquals(1,tracker.getBytesRead());
    int s=tracker.readUnsignedShort();
    assertEquals(1,s);
    assertEquals(3,tracker.getBytesRead());
  }
  finally {
    dis.close();
  }
}
