{
  SetType<String> st=SetType.getInstance(UTF8Type.instance);
  ByteBuffer[] sets=new ByteBuffer[]{ByteBufferUtil.EMPTY_BYTE_BUFFER,st.decompose(ImmutableSet.<String>of()),st.decompose(ImmutableSet.of("aa")),st.decompose(ImmutableSet.of("bb")),st.decompose(ImmutableSet.of("bb","cc")),st.decompose(ImmutableSet.of("bb","dd"))};
  for (int i=0; i < sets.length; i++)   assertEquals(st.compare(sets[i],sets[i]),0);
  for (int i=0; i < sets.length - 1; i++) {
    for (int j=i + 1; j < sets.length; j++) {
      assertEquals(st.compare(sets[i],sets[j]),-1);
      assertEquals(st.compare(sets[j],sets[i]),1);
    }
  }
}
