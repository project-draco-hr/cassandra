{
  String messageId=message.getMessageId();
  IAsyncCallback cb=MessagingService.getRegisteredCallback(messageId);
  double age=0;
  if (cb != null) {
    if (logger_.isDebugEnabled())     logger_.debug("Processing response on a callback from " + message.getMessageId() + "@"+ message.getFrom());
    age=System.currentTimeMillis() - MessagingService.getRegisteredCallbackAge(messageId);
    cb.response(message);
  }
 else {
    IAsyncResult ar=MessagingService.getAsyncResult(messageId);
    if (ar != null) {
      if (logger_.isDebugEnabled())       logger_.debug("Processing response on an async result from " + message.getMessageId() + "@"+ message.getFrom());
      age=System.currentTimeMillis() - MessagingService.getAsyncResultAge(messageId);
      ar.result(message);
    }
  }
  notifySubscribers(message.getFrom(),age);
}
