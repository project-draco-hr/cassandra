def close(self):
    if (not self.open_socket):
        raise InternalError('Connection has been closed.')
    self.transport.close()
    self.open_socket = False
