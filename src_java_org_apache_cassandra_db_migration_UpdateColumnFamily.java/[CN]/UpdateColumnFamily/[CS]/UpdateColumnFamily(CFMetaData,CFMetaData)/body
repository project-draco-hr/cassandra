{
  super(UUIDGen.makeType1UUIDFromHost(FBUtilities.getLocalAddress()),DatabaseDescriptor.getDefsVersion());
  KSMetaData ksm=DatabaseDescriptor.getTableDefinition(newCfm.tableName);
  if (ksm == null)   throw new ConfigurationException("Keyspace does not already exist.");
  this.oldCfm=oldCfm;
  this.newCfm=newCfm;
  if (!oldCfm.column_metadata.equals(newCfm.column_metadata))   throw new ConfigurationException("Column meta information is not identical.");
  KSMetaData newKsm=makeNewKeyspaceDefinition(ksm);
  rm=Migration.makeDefinitionMutation(newKsm,null,newVersion);
}
