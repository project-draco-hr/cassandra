{
  try {
    MessagingService.instance().waitUntilListening();
    endpointStateMap.get(FBUtilities.getLocalAddress()).getHeartBeatState().updateHeartBeat();
    if (logger.isTraceEnabled())     logger.trace("My heartbeat is now " + endpointStateMap.get(FBUtilities.getLocalAddress()).getHeartBeatState().getHeartBeatVersion());
    List<GossipDigest> gDigests=new ArrayList<GossipDigest>();
    Gossiper.instance.makeRandomGossipDigest(gDigests);
    if (gDigests.size() > 0) {
      Message message=makeGossipDigestSynMessage(gDigests);
      boolean gossipedToSeed=doGossipToLiveMember(message);
      doGossipToUnreachableMember(message);
      if (!gossipedToSeed || liveEndpoints.size() < seeds.size())       doGossipToSeed(message);
      if (logger.isTraceEnabled())       logger.trace("Performing status check ...");
      doStatusCheck();
    }
  }
 catch (  Exception e) {
    logger.error("Gossip error",e);
  }
}
