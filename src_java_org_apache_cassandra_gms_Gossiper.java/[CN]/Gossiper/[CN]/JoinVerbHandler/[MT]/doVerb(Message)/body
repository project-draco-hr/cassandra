{
  InetAddress from=message.getFrom();
  if (logger_.isDebugEnabled())   logger_.debug("Received a JoinMessage from {}",from);
  byte[] bytes=message.getMessageBody();
  DataInputStream dis=new DataInputStream(new ByteArrayInputStream(bytes));
  JoinMessage joinMessage;
  try {
    joinMessage=JoinMessage.serializer().deserialize(dis);
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
  if (joinMessage.clusterId_.equals(DatabaseDescriptor.getClusterName())) {
    Gossiper.instance.join(from);
  }
 else {
    logger_.warn("ClusterName mismatch from " + from + " "+ joinMessage.clusterId_+ "!="+ DatabaseDescriptor.getClusterName());
  }
}
