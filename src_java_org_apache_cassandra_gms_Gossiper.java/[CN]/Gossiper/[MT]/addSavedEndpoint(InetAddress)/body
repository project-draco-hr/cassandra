{
  if (ep == FBUtilities.getLocalAddress()) {
    logger.debug("Attempt to add self as saved endpoint");
    return;
  }
  EndpointState epState=new EndpointState(new HeartBeatState(0));
  epState.markDead();
  epState.setHasToken(true);
  endpointStateMap.put(ep,epState);
  unreachableEndpoints.put(ep,System.currentTimeMillis());
  if (logger.isTraceEnabled())   logger.trace("Adding saved endpoint " + ep + " "+ epState.getHeartBeatState().getGeneration());
}
