{
  scheduledGossipTask.cancel(false);
  logger.info("Announcing shutdown");
  try {
    Thread.sleep(intervalInMillis);
  }
 catch (  InterruptedException e) {
    throw new RuntimeException(e);
  }
  MessageOut<GossipDigestSynMessage> message=new MessageOut<GossipDigestSynMessage>(MessagingService.Verb.GOSSIP_SHUTDOWN,null,GossipDigestSynMessage.serializer());
  for (  InetAddress ep : liveEndpoints) {
    MessagingService.instance().sendOneWay(message,ep);
  }
}
