{
  EndpointState epState=endpointStateMap.get(endpoint);
  if (epState == null)   return;
  if (isShutdown(endpoint) && epState.isAlive()) {
    markAsShutdown(endpoint);
  }
 else   if (epState.isAlive() && !isDeadState(epState)) {
    markDead(endpoint,epState);
  }
 else   epState.markDead();
}
