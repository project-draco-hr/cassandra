{
  if (socket != null && socket.isOpen())   return;
  String location=getLocation();
  socket=new TSocket(location,DatabaseDescriptor.getRpcPort());
  TBinaryProtocol binaryProtocol=new TBinaryProtocol(socket,false,false);
  client=new Cassandra.Client(binaryProtocol);
  socket.open();
  client.set_keyspace(keyspace);
  if (!(DatabaseDescriptor.getAuthenticator() instanceof AllowAllAuthenticator)) {
    client.login(authRequest);
  }
}
