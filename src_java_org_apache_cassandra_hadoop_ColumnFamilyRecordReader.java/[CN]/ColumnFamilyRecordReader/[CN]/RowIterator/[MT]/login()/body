{
  Map<String,String> credentials=new HashMap<String,String>();
  credentials.put(SimpleAuthenticator.USERNAME_KEY,username);
  credentials.put(SimpleAuthenticator.PASSWORD_KEY,passwd);
  AuthenticationRequest authRequest=new AuthenticationRequest(credentials);
  TSocket socket=new TSocket(getLocation(),DatabaseDescriptor.getRpcPort());
  TBinaryProtocol binaryProtocol=new TBinaryProtocol(socket,false,false);
  Cassandra.Client client=new Cassandra.Client(binaryProtocol);
  try {
    socket.open();
    client.login(keyspace,authRequest);
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
