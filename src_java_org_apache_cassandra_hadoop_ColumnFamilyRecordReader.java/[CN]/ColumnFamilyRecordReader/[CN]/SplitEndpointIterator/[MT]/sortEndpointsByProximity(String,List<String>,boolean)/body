{
  try {
    return getClient(ConfigHelper.getInitialAddress(conf)).sort_endpoints_by_proximity(location,endpoints,restrictToSameDC);
  }
 catch (  IOException ex) {
    return getClient(connectTo).sort_endpoints_by_proximity(location,endpoints,restrictToSameDC);
  }
}
