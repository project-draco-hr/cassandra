{
  try {
    for (    InetAddress address : InetAddress.getAllByName(InetAddress.getLocalHost().getHostAddress())) {
      for (      final String location : split.getLocations()) {
        InetAddress locationAddress=getInetAddressByName(location);
        if (address.equals(locationAddress)) {
          return new SplitEndpointIterator(location,conf);
        }
      }
    }
  }
 catch (  UnknownHostException e) {
    throw new AssertionError(e);
  }
  return Arrays.asList(split.getLocations()).iterator();
}
