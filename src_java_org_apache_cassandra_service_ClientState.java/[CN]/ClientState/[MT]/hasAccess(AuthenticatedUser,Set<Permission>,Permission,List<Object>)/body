{
  if (perms.contains(perm))   return;
  throw new InvalidRequestException(String.format("%s does not have permission %s for %s",user,perm,Resources.toString(resource)));
}
