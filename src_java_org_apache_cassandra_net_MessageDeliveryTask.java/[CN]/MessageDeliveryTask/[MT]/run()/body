{
  MessagingService.Verb verb=message.verb;
  if (MessagingService.DROPPABLE_VERBS.contains(verb) && System.currentTimeMillis() > constructionTime + message.getTimeout()) {
    MessagingService.instance().incrementDroppedMessages(verb);
    return;
  }
  IVerbHandler verbHandler=MessagingService.instance().getVerbHandler(verb);
  if (verbHandler == null) {
    logger.debug("Unknown verb {}",verb);
    return;
  }
  try {
    verbHandler.doVerb(message,id);
  }
 catch (  Throwable t) {
    if (message.doCallbackOnFailure()) {
      MessageOut response=new MessageOut(MessagingService.Verb.INTERNAL_RESPONSE).withParameter(MessagingService.FAILURE_RESPONSE_PARAM,MessagingService.ONE_BYTE);
      MessagingService.instance().sendReply(response,id,message.from);
    }
    throw t;
  }
  if (GOSSIP_VERBS.contains(message.verb))   Gossiper.instance.setLastProcessedMessageAt(constructionTime);
}
