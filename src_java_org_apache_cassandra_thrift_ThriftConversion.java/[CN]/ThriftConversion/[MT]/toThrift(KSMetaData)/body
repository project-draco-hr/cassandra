{
  List<CfDef> cfDefs=new ArrayList<>(ksm.cfMetaData().size());
  for (  CFMetaData cfm : ksm.cfMetaData().values())   if (cfm.isThriftCompatible())   cfDefs.add(toThrift(cfm));
  KsDef ksdef=new KsDef(ksm.name,ksm.strategyClass.getName(),cfDefs);
  ksdef.setStrategy_options(ksm.strategyOptions);
  ksdef.setDurable_writes(ksm.durableWrites);
  return ksdef;
}
