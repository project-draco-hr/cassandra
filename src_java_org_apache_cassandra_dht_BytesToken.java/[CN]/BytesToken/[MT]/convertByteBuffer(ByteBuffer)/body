{
  if (token.position() == 0 && token.arrayOffset() == 0 && token.limit() == token.capacity())   return token.array();
  token=token.duplicate();
  byte[] buf=new byte[token.remaining()];
  token.get(buf);
  return buf;
}
