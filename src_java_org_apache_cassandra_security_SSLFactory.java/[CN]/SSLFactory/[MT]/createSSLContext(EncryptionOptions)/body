{
  SSLContext ctx;
  try {
    ctx=SSLContext.getInstance(PROTOCOL);
    TrustManagerFactory tmf=null;
    KeyManagerFactory kmf=null;
    tmf=TrustManagerFactory.getInstance(ALGORITHM);
    KeyStore ts=KeyStore.getInstance(STORE_TYPE);
    ts.load(new FileInputStream(options.truststore),options.truststore_password.toCharArray());
    tmf.init(ts);
    kmf=KeyManagerFactory.getInstance(ALGORITHM);
    KeyStore ks=KeyStore.getInstance(STORE_TYPE);
    ks.load(new FileInputStream(options.keystore),options.keystore_password.toCharArray());
    kmf.init(ks,options.keystore_password.toCharArray());
    ctx.init(kmf.getKeyManagers(),tmf.getTrustManagers(),null);
  }
 catch (  Exception e) {
    throw new IOException("Error creating the initializing the SSL Context",e);
  }
  return ctx;
}
