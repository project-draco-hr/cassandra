{
  TypeSizes sizes=TypeSizes.NATIVE;
  long size=sizes.sizeof(response.promised) + Commit.serializer.serializedSize(response.inProgressCommit,version);
  if (version < MessagingService.VERSION_30) {
    size+=UUIDSerializer.serializer.serializedSize(response.mostRecentCommit.ballot,version);
    size+=PartitionUpdate.serializer.serializedSize(response.mostRecentCommit.update,version,sizes);
  }
 else {
    size+=Commit.serializer.serializedSize(response.mostRecentCommit,version);
  }
  return size;
}
