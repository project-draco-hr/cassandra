{
  File tmpFile=File.createTempFile("set_length","bin");
  BufferedRandomAccessFile file=new BufferedRandomAccessFile(tmpFile,"rw",8 * 1024 * 1024);
  file.writeLong(1L);
  file.writeLong(2L);
  file.writeLong(3L);
  file.writeLong(4L);
  file.setLength(16L);
  assertSetLength(file,16L);
  file.writeLong(3L);
  file.seek(8L);
  file.setLength(24L);
  assertSetLength(file,24L);
  file.setLength(64L);
  assertSetLength(file,64L);
  file.sync();
  assertSetLength(file,64L);
}
