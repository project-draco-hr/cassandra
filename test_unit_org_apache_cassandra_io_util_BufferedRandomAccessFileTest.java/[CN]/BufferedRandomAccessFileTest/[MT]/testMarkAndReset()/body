{
  BufferedRandomAccessFile file=createTempFile("brafTestMark");
  file.write(new byte[30]);
  file.seek(10);
  FileMark mark=file.mark();
  file.seek(file.length());
  assertTrue(file.isEOF());
  file.reset();
  assertEquals(file.bytesRemaining(),20);
  file.seek(file.length());
  assertTrue(file.isEOF());
  file.reset(mark);
  assertEquals(file.bytesRemaining(),20);
  file.seek(file.length());
  assertEquals(file.bytesPastMark(),20);
  assertEquals(file.bytesPastMark(mark),20);
  file.reset(mark);
  assertEquals(file.bytesPastMark(),0);
  file.seek(0);
  file.bytesPastMark();
  file.close();
}
