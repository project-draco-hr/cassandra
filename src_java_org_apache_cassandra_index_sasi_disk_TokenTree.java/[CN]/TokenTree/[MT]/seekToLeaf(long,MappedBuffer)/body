{
  long blockStart=startPos;
  while (true) {
    file.position(blockStart);
    byte info=file.get();
    boolean isLeaf=(info & 1) == 1;
    if (isLeaf) {
      file.position(blockStart);
      break;
    }
    short tokenCount=file.getShort();
    long minToken=file.getLong();
    long maxToken=file.getLong();
    long seekBase=blockStart + TokenTreeBuilder.BLOCK_HEADER_BYTES;
    if (minToken > token) {
      file.position(seekBase + tokenCount * LONG_BYTES);
      blockStart=(startPos + (int)file.getLong());
    }
 else     if (maxToken < token) {
      file.position(seekBase + (2 * tokenCount) * LONG_BYTES);
      blockStart=(startPos + (int)file.getLong());
    }
 else {
      file.position(seekBase);
      short offsetIndex=searchBlock(token,tokenCount,file);
      if (offsetIndex == tokenCount)       file.position(file.position() + (offsetIndex * LONG_BYTES));
 else       file.position(file.position() + ((tokenCount - offsetIndex - 1) + offsetIndex) * LONG_BYTES);
      blockStart=(startPos + (int)file.getLong());
    }
  }
}
