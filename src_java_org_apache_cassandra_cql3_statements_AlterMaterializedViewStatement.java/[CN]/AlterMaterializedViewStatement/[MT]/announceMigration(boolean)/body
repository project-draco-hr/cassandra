{
  CFMetaData meta=validateColumnFamily(keyspace(),columnFamily());
  if (!meta.isMaterializedView())   throw new InvalidRequestException("Cannot use ALTER MATERIALIZED VIEW on Table");
  CFMetaData cfm=meta.copy();
  if (attrs == null)   throw new InvalidRequestException("ALTER MATERIALIZED VIEW WITH invoked, but no parameters found");
  attrs.validate();
  TableParams params=attrs.asAlteredTableParams(cfm.params);
  if (params.gcGraceSeconds == 0) {
    throw new InvalidRequestException("Cannot alter gc_grace_seconds of a materialized view to 0, since this " + "value is used to TTL undelivered updates. Setting gc_grace_seconds too " + "low might cause undelivered updates to expire before being replayed.");
  }
  cfm.params(params);
  MigrationManager.announceColumnFamilyUpdate(cfm,false,isLocalOnly);
  return true;
}
