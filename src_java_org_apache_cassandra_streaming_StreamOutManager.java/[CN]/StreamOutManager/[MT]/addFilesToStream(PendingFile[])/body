{
  condition.reset();
  for (  PendingFile pendingFile : pendingFiles) {
    if (logger.isDebugEnabled())     logger.debug("Adding file " + pendingFile.getFilename() + " to be streamed.");
    files.add(pendingFile);
    fileMap.put(pendingFile.getFilename(),pendingFile);
    totalBytes+=pendingFile.getExpectedBytes();
  }
}
