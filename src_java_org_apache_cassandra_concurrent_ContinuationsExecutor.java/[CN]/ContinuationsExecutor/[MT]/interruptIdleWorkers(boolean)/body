{
  final ReentrantLock mainLock=this.mainLock;
  mainLock.lock();
  try {
    for (    Worker w : workers) {
      Thread t=w.thread;
      if (!t.isInterrupted() && w.tryLock()) {
        try {
          t.interrupt();
        }
 catch (        SecurityException ignore) {
        }
 finally {
          w.unlock();
        }
      }
      if (onlyOne)       break;
    }
  }
  finally {
    mainLock.unlock();
  }
}
