{
  IndexMetadata registered=indexes.get(indexDef.name).getIndexMetadata();
  if (!registered.equals(indexDef)) {
    Index index=indexes.remove(registered.name);
    index.register(this);
    return blockingExecutor.submit(index.getMetadataReloadTask(indexDef));
  }
  return Futures.immediateFuture(null);
}
