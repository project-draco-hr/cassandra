{
synchronized (tidy.global) {
    final Runnable existing=tidy.runOnClose;
    tidy.runOnClose=existing == null ? runOnClose : new Runnable(){
      public void run(){
        existing.run();
        runOnClose.run();
      }
    }
;
  }
}
