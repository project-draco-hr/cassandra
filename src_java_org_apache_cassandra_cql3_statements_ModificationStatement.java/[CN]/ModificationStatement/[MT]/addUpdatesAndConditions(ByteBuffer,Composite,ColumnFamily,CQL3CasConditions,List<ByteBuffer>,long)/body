{
  UpdateParameters updParams=new UpdateParameters(cfm,variables,now,getTimeToLive(variables),null);
  addUpdateForKey(updates,key,clusteringPrefix,updParams);
  if (ifNotExists) {
    conditions.addNotExist(setsOnlyStaticColumns ? cfm.comparator.staticPrefix() : clusteringPrefix);
  }
 else   if (ifExists) {
    conditions.addExist(clusteringPrefix);
  }
 else {
    if (columnConditions != null)     conditions.addConditions(clusteringPrefix,columnConditions,variables);
    if (staticConditions != null)     conditions.addConditions(cfm.comparator.staticPrefix(),staticConditions,variables);
  }
}
