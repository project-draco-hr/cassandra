{
  if (waitForSyncToCatchUp(Long.MAX_VALUE)) {
    long started=System.currentTimeMillis();
    pending.incrementAndGet();
    while (waitForSyncToCatchUp(started)) {
      WaitQueue.Signal signal=syncComplete.register();
      if (waitForSyncToCatchUp(started))       signal.awaitUninterruptibly();
    }
    pending.decrementAndGet();
  }
}
