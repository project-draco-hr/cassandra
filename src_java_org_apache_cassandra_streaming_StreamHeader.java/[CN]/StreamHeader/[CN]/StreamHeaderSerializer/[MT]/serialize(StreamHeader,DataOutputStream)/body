{
  dos.writeLong(sh.getSessionId());
  PendingFile.serializer().serialize(sh.getStreamFile(),dos);
  dos.writeBoolean(sh.initiatedTransfer);
  if (sh.pending != null) {
    dos.writeInt(sh.getPendingFiles().size());
    for (    PendingFile file : sh.getPendingFiles()) {
      PendingFile.serializer().serialize(file,dos);
    }
  }
 else   dos.writeInt(0);
}
