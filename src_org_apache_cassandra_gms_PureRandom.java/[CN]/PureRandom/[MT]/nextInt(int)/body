{
  if (ub <= 0)   throw new IllegalArgumentException("ub must be positive");
  if (lastUb_ != ub) {
    bs_.clear();
    lastUb_=ub;
  }
 else   if (bs_.cardinality() == ub) {
    bs_.clear();
  }
  int value=super.nextInt(ub);
  while (bs_.get(value)) {
    value=super.nextInt(ub);
  }
  bs_.set(value);
  return value;
}
