{
  if (version < Server.VERSION_4) {
switch (msg.error.code()) {
case READ_FAILURE:
      ReadFailureException rfe=(ReadFailureException)msg.error;
    return new ReadTimeoutException(rfe.consistency,rfe.received,rfe.blockFor,rfe.dataPresent);
case FUNCTION_FAILURE:
  return new InvalidRequestException(msg.toString());
}
}
return msg.error;
}
