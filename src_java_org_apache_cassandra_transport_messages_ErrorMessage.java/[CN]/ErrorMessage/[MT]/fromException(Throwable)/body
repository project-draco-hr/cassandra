{
  String msg=t.getMessage() == null ? t.toString() : t.getMessage();
  if (t instanceof TimeoutException || t instanceof TimedOutException)   return new ErrorMessage(0x0101,msg);
 else   if (t instanceof UnavailableException)   return new ErrorMessage(0x0100,msg);
 else   if (t instanceof InvalidRequestException)   return new ErrorMessage(0x0200,msg);
 else   if (t instanceof ProtocolException)   return new ErrorMessage(0x0001,msg);
 else   if (t instanceof AuthenticationException)   return new ErrorMessage(0x0002,msg);
  logger.error("Unknown exception during request",t);
  return new ErrorMessage(0x0000,msg);
}
