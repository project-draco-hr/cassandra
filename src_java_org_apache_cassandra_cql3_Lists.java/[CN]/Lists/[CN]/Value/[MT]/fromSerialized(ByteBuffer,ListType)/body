{
  try {
    List<?> l=(List<?>)type.compose(value);
    List<ByteBuffer> elements=new ArrayList<ByteBuffer>(l.size());
    for (    Object element : l)     elements.add(type.elements.decompose(element));
    return new Value(elements);
  }
 catch (  MarshalException e) {
    throw new InvalidRequestException(e.getMessage());
  }
}
