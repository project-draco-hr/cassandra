{
  buffer=allocateBuffer(bufferSize);
  buffer.limit(0);
  if (regions == null) {
    compressed=allocateBuffer(metadata.compressor().initialCompressedBufferLength(metadata.chunkLength()));
    checksumBytes=ByteBuffer.wrap(new byte[4]);
  }
}
