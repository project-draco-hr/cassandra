{
  int n=0;
  for (  String tableName : DatabaseDescriptor.getTables()) {
    for (    ColumnFamilyStore cfs : Table.open(tableName).getColumnFamilyStores()) {
      n+=cfs.getCompactionStrategy().getEstimatedRemainingTasks();
    }
  }
  return (int)(executor.getTaskCount() - executor.getCompletedTaskCount()) + n;
}
