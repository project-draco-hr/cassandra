{
  File file=FileUtils.createTempFile("dataoutput","test");
  final SequentialWriter writer=new SequentialWriter(file,32,BufferType.ON_HEAP);
  DataOutputStreamPlus write=new WrappedDataOutputStreamPlus(writer);
  DataInput canon=testWrite(write);
  write.flush();
  writer.finish();
  write.close();
  DataInputStream test=new DataInputStream(new FileInputStream(file));
  testRead(test,canon);
  test.close();
  Assert.assertTrue(file.delete());
}
