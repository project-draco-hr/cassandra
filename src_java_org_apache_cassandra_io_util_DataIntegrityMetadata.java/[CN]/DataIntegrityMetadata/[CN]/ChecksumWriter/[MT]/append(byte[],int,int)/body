{
  try {
    checksum.update(buffer,start,end);
    writer.stream.writeInt((int)checksum.getValue());
    checksum.reset();
    digest.update(buffer,start,end);
  }
 catch (  IOException e) {
    throw new IOError(e);
  }
}
