{
  long r=requests.getCount();
  long h=hits.getCount();
  try {
    return ((double)(h - lastHits.get())) / (r - lastRequests.get());
  }
  finally {
    lastRequests.set(r);
    lastHits.set(h);
  }
}
