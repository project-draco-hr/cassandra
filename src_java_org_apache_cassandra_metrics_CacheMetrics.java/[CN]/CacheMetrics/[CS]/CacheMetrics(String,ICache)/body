{
  MetricNameFactory factory=new DefaultNameFactory("Cache",type);
  capacity=Metrics.newGauge(factory.createMetricName("Capacity"),new Gauge<Long>(){
    public Long value(){
      return cache.capacity();
    }
  }
);
  hits=Metrics.newMeter(factory.createMetricName("Hits"),"hits",TimeUnit.SECONDS);
  requests=Metrics.newMeter(factory.createMetricName("Requests"),"requests",TimeUnit.SECONDS);
  hitRate=Metrics.newGauge(factory.createMetricName("HitRate"),new RatioGauge(){
    protected double getNumerator(){
      return hits.count();
    }
    protected double getDenominator(){
      return requests.count();
    }
  }
);
  size=Metrics.newGauge(factory.createMetricName("Size"),new Gauge<Long>(){
    public Long value(){
      return cache.weightedSize();
    }
  }
);
  entries=Metrics.newGauge(factory.createMetricName("Entries"),new Gauge<Integer>(){
    public Integer value(){
      return cache.size();
    }
  }
);
}
