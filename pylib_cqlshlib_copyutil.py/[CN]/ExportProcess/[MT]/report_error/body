def report_error(self, err, token_range=None):
    msg = self.get_error_message(err, print_traceback=self.debug)
    self.printdebugmsg(msg)
    self.outmsg.put((token_range, Exception(msg)))
