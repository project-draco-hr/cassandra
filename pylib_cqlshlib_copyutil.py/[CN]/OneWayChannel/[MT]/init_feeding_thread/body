def init_feeding_thread(self):
    '\n        Initialize a thread that fetches messages from a queue and sends them to the channel.\n        We initialize the feeding thread lazily to avoid the fork(), since the channels are passed to child processes.\n        '
    if ((self.feeding_thread is not None) or (self.pending_messages is not None)):
        raise RuntimeError('Feeding thread already initialized')
    self.pending_messages = Queue()

    def feed():
        send = self._send
        pending_messages = self.pending_messages
        while True:
            try:
                msg = pending_messages.get()
                send(msg)
            except Exception as e:
                printmsg(('%s: %s' % (e.__class__.__name__, e.message)))
    feeding_thread = threading.Thread(target=feed)
    feeding_thread.setDaemon(True)
    feeding_thread.start()
    self.feeding_thread = feeding_thread
