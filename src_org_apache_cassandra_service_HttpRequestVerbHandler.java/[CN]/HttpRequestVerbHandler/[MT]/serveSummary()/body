{
  HTMLFormatter formatter=new HTMLFormatter();
  Set<EndPoint> liveNodeList=Gossiper.instance().getAllMembers();
  EndPoint[] liveNodes=liveNodeList.toArray(new EndPoint[0]);
  Arrays.sort(liveNodes);
  String[] sHeaders={"Node No.","Host:Port","Status","Leader","Load Info","Token","Generation No."};
  formatter.startTable();
  formatter.addHeaders(sHeaders);
  int iNodeNumber=0;
  for (  EndPoint curNode : liveNodes) {
    formatter.startRow();
    ++iNodeNumber;
    formatter.addCol("" + iNodeNumber);
    formatter.addCol("<a href='http://" + curNode.getHost() + ":"+ DatabaseDescriptor.getHttpPort()+ "/home?"+ DETAILS+ "=T'>"+ curNode.getHost()+ ":"+ curNode.getPort()+ "</a>");
    String status=(FailureDetector.instance().isAlive(curNode)) ? "Up" : "Down";
    formatter.addCol(status);
    boolean isLeader=StorageService.instance().isLeader(curNode);
    formatter.addCol(Boolean.toString(isLeader));
    String loadInfo=getLoadInfo(curNode);
    formatter.addCol(loadInfo);
    if (curNode == null)     formatter.addCol("NULL!");
 else     formatter.addCol(storageService_.getToken(curNode));
    formatter.addCol(Integer.toString(Gossiper.instance().getCurrentGenerationNumber(curNode)));
    formatter.endRow();
  }
  formatter.endTable();
  return formatter.toString();
}
