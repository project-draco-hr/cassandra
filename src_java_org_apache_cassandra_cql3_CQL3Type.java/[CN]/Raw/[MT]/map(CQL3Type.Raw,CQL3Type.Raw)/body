{
  if (t1.isCollection() || t2.isCollection())   throw new InvalidRequestException("map type cannot contain another collection");
  if (t1.isCounter() || t2.isCounter())   throw new InvalidRequestException("counters are not allowed inside a collection");
  return new RawCollection(CollectionType.Kind.MAP,t1,t2);
}
