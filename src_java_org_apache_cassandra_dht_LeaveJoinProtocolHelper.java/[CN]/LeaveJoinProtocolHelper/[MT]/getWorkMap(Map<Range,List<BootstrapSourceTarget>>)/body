{
  Map<EndPoint,Map<EndPoint,List<Range>>> rangeInfo=new HashMap<EndPoint,Map<EndPoint,List<Range>>>();
  Set<Range> ranges=rangesWithSourceTarget.keySet();
  for (  Range range : ranges) {
    List<BootstrapSourceTarget> rangeSourceTargets=rangesWithSourceTarget.get(range);
    for (    BootstrapSourceTarget rangeSourceTarget : rangeSourceTargets) {
      Map<EndPoint,List<Range>> targetRangeMap=rangeInfo.get(rangeSourceTarget.source_);
      if (targetRangeMap == null) {
        targetRangeMap=new HashMap<EndPoint,List<Range>>();
        rangeInfo.put(rangeSourceTarget.source_,targetRangeMap);
      }
      List<Range> rangesToGive=targetRangeMap.get(rangeSourceTarget.target_);
      if (rangesToGive == null) {
        rangesToGive=new ArrayList<Range>();
        targetRangeMap.put(rangeSourceTarget.target_,rangesToGive);
      }
      rangesToGive.add(range);
    }
  }
  return rangeInfo;
}
