{
  queueSize.acquireUninterruptibly();
  for (  SynchronousQueue<Thread> queue : queues.values()) {
    Thread t=queue.poll();
    if (t != null) {
      taskCount.acquireUninterruptibly();
      queueSize.acquireUninterruptibly();
    }
  }
  queueSize.release();
}
