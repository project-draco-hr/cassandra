{
  if (availableSegment == null && !atSegmentBufferLimit()) {
    awaitAvailableSegment(allocatingFrom);
  }
}
