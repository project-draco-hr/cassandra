{
  if (useSparse) {
    if (data == null)     return;
    out.writeVInt(idx);
  }
  if (hasComplexDeletion)   header.writeDeletionTime(data == null ? DeletionTime.LIVE : data.complexDeletion(),out);
  if (data != null) {
    for (    Cell cell : data)     Cell.serializer.serialize(cell,out,rowLiveness,header);
  }
  Cell.serializer.serialize(null,out,rowLiveness,header);
}
