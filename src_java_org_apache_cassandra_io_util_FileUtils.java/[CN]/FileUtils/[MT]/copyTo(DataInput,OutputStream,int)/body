{
  byte[] buffer=new byte[64 * 1024];
  int copiedBytes=0;
  while (copiedBytes + buffer.length < length) {
    in.readFully(buffer);
    out.write(buffer);
    copiedBytes+=buffer.length;
  }
  if (copiedBytes < length) {
    int left=length - copiedBytes;
    in.readFully(buffer,0,left);
    out.write(buffer,0,left);
  }
}
