{
switch (DatabaseDescriptor.getDiskFailurePolicy()) {
case stop:
    logger.error("Stopping the gossiper and the RPC server");
  StorageService.instance.stopGossiping();
StorageService.instance.stopRPCServer();
break;
case best_effort:
BlacklistedDirectories.maybeMarkUnwritable(e.path);
if (e instanceof FSReadError) {
File directory=BlacklistedDirectories.maybeMarkUnreadable(e.path);
if (directory != null) Table.removeUnreadableSSTables(directory);
}
break;
case ignore:
break;
default :
throw new IllegalStateException();
}
}
