{
  if (buffer == null)   return;
  syncInternal();
  buffer=null;
  try {
    out.close();
  }
 catch (  IOException e) {
    throw new FSWriteError(e,getPath());
  }
  CLibrary.tryCloseFD(directoryFD);
}
