{
  flushData();
  if (trickleFsync) {
    bytesSinceTrickleFsync+=buffer.position();
    if (bytesSinceTrickleFsync >= trickleFsyncByteInterval) {
      syncDataOnlyInternal();
      bytesSinceTrickleFsync=0;
    }
  }
  resetBuffer();
}
