{
  String ks="Keyspace1";
  String cfname="StandardInteger1";
  Table table=Table.open(ks);
  ColumnFamilyStore cfs=table.getColumnFamilyStore(cfname);
  String key="key1";
  RowMutation rm=new RowMutation(ks,ByteBufferUtil.bytes(key));
  rm.add(new QueryPath(cfname,null,ByteBufferUtil.bytes(1)),ByteBuffer.wrap(new byte[DatabaseDescriptor.getColumnIndexSize() - 64]),2);
  rm.add(new QueryPath(cfname,null,ByteBufferUtil.bytes(6)),ByteBuffer.wrap(new byte[DatabaseDescriptor.getColumnIndexSize()]),2);
  ColumnFamily cf=rm.addOrGet(cfname);
  cf.delete(new DeletionInfo(ByteBufferUtil.bytes(2),ByteBufferUtil.bytes(3),cf.getComparator(),1,(int)(System.currentTimeMillis() / 1000)));
  cf.delete(new DeletionInfo(ByteBufferUtil.bytes(5),ByteBufferUtil.bytes(7),cf.getComparator(),1,(int)(System.currentTimeMillis() / 1000)));
  rm.apply();
  cfs.forceBlockingFlush();
  SSTableReader sstable=cfs.getSSTables().iterator().next();
  cfs.clearUnsafe();
  transferSSTables(table,sstable);
  assertEquals(1,cfs.getSSTables().size());
  List<Row> rows=Util.getRangeSlice(cfs);
  assertEquals(1,rows.size());
}
