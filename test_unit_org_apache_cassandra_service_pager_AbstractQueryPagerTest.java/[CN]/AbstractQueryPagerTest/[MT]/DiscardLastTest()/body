{
  TestPager pager=new TestPager();
  List<Row> rows=Arrays.asList(createRow("r1",2),createRow("r2",3),createRow("r3",1));
  assertEquals(3,rows.size());
  assertRow(rows.get(0),"r1",0,1);
  assertRow(rows.get(1),"r2",0,1,2);
  assertRow(rows.get(2),"r3",0);
  rows=pager.discardLast(rows,1);
  assertEquals(2,rows.size());
  assertRow(rows.get(0),"r1",0,1);
  assertRow(rows.get(1),"r2",0,1,2);
  rows=pager.discardLast(rows,1);
  assertEquals(2,rows.size());
  assertRow(rows.get(0),"r1",0,1);
  assertRow(rows.get(1),"r2",0,1);
  rows=pager.discardLast(rows,3);
  assertEquals(1,rows.size());
  assertRow(rows.get(0),"r1",0);
  rows=pager.discardLast(rows,1);
  assertTrue(rows.isEmpty());
}
