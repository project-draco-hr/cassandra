{
  ArrayList<InetAddress> preferred=new ArrayList<InetAddress>(blockfor);
  for (  InetAddress endpoint : endpoints) {
    if (localdc.equals(snitch.getDatacenter(endpoint)))     preferred.add(endpoint);
    if (preferred.size() == blockfor)     break;
  }
  return preferred;
}
