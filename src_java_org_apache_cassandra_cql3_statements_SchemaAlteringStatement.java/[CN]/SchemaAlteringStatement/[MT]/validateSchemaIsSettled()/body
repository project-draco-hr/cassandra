{
  long limit=System.currentTimeMillis() + timeLimitForSchemaAgreement;
  outer:   while (limit - System.currentTimeMillis() >= 0) {
    String currentVersionId=Schema.instance.getVersion().toString();
    for (    String version : describeSchemaVersions().keySet()) {
      if (!version.equals(currentVersionId))       continue outer;
    }
    return;
  }
  throw new SchemaDisagreementException();
}
