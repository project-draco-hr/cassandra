{
  if (key.remaining() == 0)   return MINIMUM;
  String skey;
  try {
    skey=FBUtilities.decodeToUTF8(key);
  }
 catch (  CharacterCodingException e) {
    throw new RuntimeException("The provided key was not UTF8 encoded.",e);
  }
  return new BytesToken(ByteBuffer.wrap(collator.getCollationKey(skey).toByteArray()));
}
