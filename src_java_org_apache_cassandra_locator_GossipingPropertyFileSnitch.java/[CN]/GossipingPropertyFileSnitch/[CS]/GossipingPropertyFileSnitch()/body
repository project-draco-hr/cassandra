{
  myDC=SnitchProperties.get("dc",null);
  myRack=SnitchProperties.get("rack",null);
  if (myDC == null || myRack == null)   throw new ConfigurationException("DC or rack not found in snitch properties, check your configuration in: " + SnitchProperties.RACKDC_PROPERTY_FILENAME);
  myDC=myDC.trim();
  myRack=myRack.trim();
  preferLocal=Boolean.parseBoolean(SnitchProperties.get("prefer_local","false"));
  try {
    psnitch=new PropertyFileSnitch();
    logger.info("Loaded {} for compatibility",PropertyFileSnitch.SNITCH_PROPERTIES_FILENAME);
  }
 catch (  ConfigurationException e) {
    logger.info("Unable to load {}; compatibility mode disabled",PropertyFileSnitch.SNITCH_PROPERTIES_FILENAME);
  }
}
