{
  InputStream stream=GossipingPropertyFileSnitch.class.getClassLoader().getResourceAsStream(RACKDC_PROPERTY_FILENAME);
  Properties properties=new Properties();
  try {
    properties.load(stream);
  }
 catch (  Exception e) {
    throw new ConfigurationException("Unable to read " + RACKDC_PROPERTY_FILENAME,e);
  }
 finally {
    FileUtils.closeQuietly(stream);
  }
  for (  Map.Entry<Object,Object> entry : properties.entrySet()) {
    String key=(String)entry.getKey();
    String value=(String)entry.getValue();
    if (key.equals("dc"))     myDC=value;
 else     if (key.equals("rack"))     myRack=value;
  }
  if (myDC == null || myRack == null)   throw new ConfigurationException("DC or rack not found in " + RACKDC_PROPERTY_FILENAME);
}
