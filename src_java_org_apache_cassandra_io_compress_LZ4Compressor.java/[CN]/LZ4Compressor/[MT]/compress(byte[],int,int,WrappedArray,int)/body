{
  final byte[] dest=output.buffer;
  dest[outputOffset]=(byte)inputLength;
  dest[outputOffset + 1]=(byte)(inputLength >>> 8);
  dest[outputOffset + 2]=(byte)(inputLength >>> 16);
  dest[outputOffset + 3]=(byte)(inputLength >>> 24);
  final int maxCompressedLength=compressor.maxCompressedLength(inputLength);
  try {
    return INTEGER_BYTES + compressor.compress(input,inputOffset,inputLength,dest,outputOffset + INTEGER_BYTES,maxCompressedLength);
  }
 catch (  LZ4Exception e) {
    throw new IOException(e);
  }
}
