{
  Set<SSTableReader> notCompacting;
  View currentView, newView;
  do {
    currentView=view.get();
    notCompacting=Sets.difference(ImmutableSet.copyOf(currentView.sstables),currentView.compacting);
    newView=currentView.replace(notCompacting,Collections.<SSTableReader>emptySet());
  }
 while (!view.compareAndSet(currentView,newView));
  postReplace(notCompacting,Collections.<SSTableReader>emptySet());
}
