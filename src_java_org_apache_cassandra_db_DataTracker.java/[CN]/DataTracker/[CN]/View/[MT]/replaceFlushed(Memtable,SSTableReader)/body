{
  Set<Memtable> newPending=ImmutableSet.copyOf(Sets.difference(memtablesPendingFlush,Collections.singleton(flushedMemtable)));
  List<SSTableReader> newSSTables=newSSTable == null ? Collections.<SSTableReader>emptyList() : newSSTables(newSSTable);
  SSTableIntervalTree intervalTree=buildIntervalTree(newSSTables);
  return new View(memtable,newPending,Collections.unmodifiableList(newSSTables),compacting,intervalTree);
}
