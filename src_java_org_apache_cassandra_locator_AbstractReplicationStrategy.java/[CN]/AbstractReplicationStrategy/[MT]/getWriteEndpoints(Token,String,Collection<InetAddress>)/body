{
  if (tokenMetadata.getPendingRanges(table).isEmpty())   return naturalEndpoints;
  List<InetAddress> endpoints=new ArrayList<InetAddress>(naturalEndpoints);
  for (  Map.Entry<Range,Collection<InetAddress>> entry : tokenMetadata.getPendingRanges(table).entrySet()) {
    if (entry.getKey().contains(token)) {
      endpoints.addAll(entry.getValue());
    }
  }
  return endpoints;
}
