{
  isBootstrapMode=true;
  SystemTable.updateToken(token);
  if (null == DatabaseDescriptor.getReplaceToken()) {
    Gossiper.instance.addLocalApplicationState(ApplicationState.STATUS,valueFactory.bootstrapping(token));
    setMode(Mode.JOINING,"sleeping " + RING_DELAY + " ms for pending range setup",true);
    try {
      Thread.sleep(RING_DELAY);
    }
 catch (    InterruptedException e) {
      throw new AssertionError(e);
    }
  }
 else {
    tokenMetadata_.updateNormalToken(token,FBUtilities.getBroadcastAddress());
  }
  setMode(Mode.JOINING,"Starting to bootstrap...",true);
  new BootStrapper(FBUtilities.getBroadcastAddress(),token,tokenMetadata_).bootstrap();
}
