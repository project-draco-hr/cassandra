{
  AbstractReplicationStrategy replicationStrategy=null;
  Class<? extends AbstractReplicationStrategy> cls=DatabaseDescriptor.getReplicaPlacementStrategyClass(table);
  if (cls == null)   throw new RuntimeException(String.format("No replica strategy configured for %s",table));
  Class[] parameterTypes=new Class[]{TokenMetadata.class,IEndPointSnitch.class};
  try {
    Constructor<? extends AbstractReplicationStrategy> constructor=cls.getConstructor(parameterTypes);
    replicationStrategy=constructor.newInstance(tokenMetadata,DatabaseDescriptor.getEndPointSnitch(table));
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
  return replicationStrategy;
}
