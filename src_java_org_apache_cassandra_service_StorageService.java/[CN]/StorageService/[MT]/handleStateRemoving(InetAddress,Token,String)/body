{
  InetAddress removeEndpoint=tokenMetadata_.getEndpoint(removeToken);
  if (removeEndpoint == null)   return;
  if (removeEndpoint.equals(FBUtilities.getBroadcastAddress())) {
    logger_.info("Received removeToken gossip about myself. Is this node a replacement for a removed one?");
    return;
  }
  if (VersionedValue.REMOVED_TOKEN.equals(state)) {
    excise(removeToken,removeEndpoint);
  }
 else   if (VersionedValue.REMOVING_TOKEN.equals(state)) {
    if (logger_.isDebugEnabled())     logger_.debug("Token " + removeToken + " removed manually (endpoint was "+ removeEndpoint+ ")");
    tokenMetadata_.addLeavingEndpoint(removeEndpoint);
    calculatePendingRanges();
    restoreReplicaCount(removeEndpoint,endpoint);
  }
}
