{
  if (keyspace == null) {
    for (    String ks : DatabaseDescriptor.getNonSystemTables()) {
      keyspace=ks;
      break;
    }
  }
  List<Range> ranges=getAllRanges(tokenMetadata_.sortedTokens());
  Map<Range,List<String>> map=new HashMap<Range,List<String>>();
  for (  Map.Entry<Range,List<InetAddress>> entry : constructRangeToEndPointMap(keyspace,ranges,keyspace).entrySet()) {
    map.put(entry.getKey(),stringify(entry.getValue()));
  }
  return map;
}
