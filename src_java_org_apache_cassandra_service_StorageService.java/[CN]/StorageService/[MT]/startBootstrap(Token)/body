{
  isBootstrapMode=true;
  SystemTable.updateToken(token);
  Gossiper.instance().addApplicationState(MOVE_STATE,new ApplicationState(STATE_BOOTSTRAPPING + Delimiter + partitioner_.getTokenFactory().toString(token)));
  logger_.info("bootstrap sleeping " + Streaming.RING_DELAY);
  try {
    Thread.sleep(Streaming.RING_DELAY);
  }
 catch (  InterruptedException e) {
    throw new AssertionError(e);
  }
  if (tokenMetadata_.isMember(FBUtilities.getLocalAddress())) {
    String s="This node is already a member of the token ring; bootstrap aborted. (If replacing a dead node, remove the old one from the ring first.)";
    throw new UnsupportedOperationException(s);
  }
  new BootStrapper(replicationStrategy_,FBUtilities.getLocalAddress(),token,tokenMetadata_).startBootstrap();
}
