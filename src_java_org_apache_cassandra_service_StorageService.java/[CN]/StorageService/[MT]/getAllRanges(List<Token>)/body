{
  if (logger_.isDebugEnabled())   logger_.debug("computing ranges for " + StringUtils.join(sortedTokens,", "));
  if (sortedTokens.isEmpty())   return Collections.emptyList();
  List<Range<Token>> ranges=new ArrayList<Range<Token>>();
  int size=sortedTokens.size();
  for (int i=1; i < size; ++i) {
    Range<Token> range=new Range<Token>(sortedTokens.get(i - 1),sortedTokens.get(i));
    ranges.add(range);
  }
  Range<Token> range=new Range<Token>(sortedTokens.get(size - 1),sortedTokens.get(0));
  ranges.add(range);
  return ranges;
}
