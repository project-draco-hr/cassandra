{
  if (logger.isDebugEnabled())   logger.debug("Setting tokens to {}",tokens);
  SystemKeyspace.updateTokens(tokens);
  tokenMetadata.updateNormalTokens(tokens,FBUtilities.getBroadcastAddress());
  Collection<Token> localTokens=getLocalTokens();
  Gossiper.instance.addLocalApplicationState(ApplicationState.TOKENS,valueFactory.tokens(localTokens));
  Gossiper.instance.addLocalApplicationState(ApplicationState.STATUS,valueFactory.normal(localTokens));
  setMode(Mode.NORMAL,false);
}
