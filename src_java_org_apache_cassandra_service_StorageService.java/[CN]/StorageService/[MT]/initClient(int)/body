{
  if (initialized) {
    if (!isClientMode)     throw new UnsupportedOperationException("StorageService does not support switching modes.");
    return;
  }
  initialized=true;
  isClientMode=true;
  logger.info("Starting up client gossip");
  setMode(Mode.CLIENT,false);
  Gossiper.instance.register(this);
  Gossiper.instance.start((int)(System.currentTimeMillis() / 1000));
  Gossiper.instance.addLocalApplicationState(ApplicationState.NET_VERSION,valueFactory.networkVersion());
  if (!MessagingService.instance().isListening())   MessagingService.instance().listen(FBUtilities.getLocalAddress());
  try {
    Thread.sleep(ringDelay);
  }
 catch (  InterruptedException e) {
    throw new AssertionError(e);
  }
}
