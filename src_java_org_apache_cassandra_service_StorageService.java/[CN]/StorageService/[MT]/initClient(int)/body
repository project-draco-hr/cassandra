{
  if (initialized) {
    if (!isClientMode)     throw new UnsupportedOperationException("StorageService does not support switching modes.");
    return;
  }
  initialized=true;
  isClientMode=true;
  logger.info("Starting up client gossip");
  setMode(Mode.CLIENT,false);
  Gossiper.instance.register(this);
  Gossiper.instance.register(migrationManager);
  Gossiper.instance.start((int)(System.currentTimeMillis() / 1000));
  Gossiper.instance.addLocalApplicationState(ApplicationState.NET_VERSION,valueFactory.networkVersion());
  MessagingService.instance().listen(FBUtilities.getLocalAddress());
  Uninterruptibles.sleepUninterruptibly(ringDelay,TimeUnit.MILLISECONDS);
}
