{
  if (initialized) {
    if (!isClientMode)     throw new UnsupportedOperationException("StorageService does not support switching modes.");
    return;
  }
  initialized=true;
  isClientMode=true;
  logger_.info("Starting up client gossip");
  setMode("Client",false);
  Gossiper.instance.register(this);
  Gossiper.instance.start(FBUtilities.getLocalAddress(),(int)(System.currentTimeMillis() / 1000));
  MessagingService.instance().listen(FBUtilities.getLocalAddress());
  try {
    Thread.sleep(5000L);
  }
 catch (  Exception ex) {
    throw new IOError(ex);
  }
  MigrationManager.announce(DatabaseDescriptor.getDefsVersion(),DatabaseDescriptor.getSeeds());
}
