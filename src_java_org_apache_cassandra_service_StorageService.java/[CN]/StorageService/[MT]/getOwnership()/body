{
  Map<Token,InetAddress> tokensToEndpoints=tokenMetadata.getTokenToEndpointMapForReading();
  List<Token> sortedTokens=new ArrayList<Token>(tokensToEndpoints.keySet());
  Collections.sort(sortedTokens);
  Map<Token,Float> tokenMap=new TreeMap<Token,Float>(getPartitioner().describeOwnership(sortedTokens));
  Map<InetAddress,Float> stringMap=new LinkedHashMap<InetAddress,Float>();
  for (  Map.Entry<Token,Float> entry : tokenMap.entrySet())   stringMap.put(tokensToEndpoints.get(entry.getKey()),entry.getValue());
  return stringMap;
}
