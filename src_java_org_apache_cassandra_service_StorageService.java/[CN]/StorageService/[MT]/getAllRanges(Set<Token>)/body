{
  List<Range> ranges=new ArrayList<Range>();
  List<Token> allTokens=new ArrayList<Token>(tokens);
  Collections.sort(allTokens);
  int size=allTokens.size();
  for (int i=1; i < size; ++i) {
    Range range=new Range(allTokens.get(i - 1),allTokens.get(i));
    ranges.add(range);
  }
  Range range=new Range(allTokens.get(size - 1),allTokens.get(0));
  ranges.add(range);
  return ranges.toArray(new Range[0]);
}
