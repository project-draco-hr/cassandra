{
  if (metadata.comparator instanceof CompositeType) {
    CompositeType composite=(CompositeType)metadata.comparator;
    ByteBuffer[] components=composite.split(columnName);
    for (    ColumnDefinition def : metadata.getColumn_metadata().values()) {
      ByteBuffer toCompare=def.componentIndex == null ? columnName : components[def.componentIndex];
      if (columnName.equals(toCompare))       return def;
    }
    return null;
  }
 else {
    return metadata.getColumnDefinition(columnName);
  }
}
