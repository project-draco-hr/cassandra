{
  while (segment.lastSyncedOffset < position) {
    WaitQueue.Signal signal=segment.syncComplete.register();
    if (segment.lastSyncedOffset < position)     signal.awaitUninterruptibly();
  }
}
