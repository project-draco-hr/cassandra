{
  ByteBuffer buf=ByteBuffer.allocate(1024);
  CommitLogDescriptor.writeHeader(buf,desc);
  long length=buf.position();
  buf.putDouble(0.1);
  buf.flip();
  try (FileDataInput input=new ByteBufferDataInput(buf,"input",0,0)){
    CommitLogDescriptor read=CommitLogDescriptor.readHeader(input);
    assertEquals("Descriptor length",length,input.getFilePointer());
    assertEquals("Descriptors",desc,read);
  }
 }
