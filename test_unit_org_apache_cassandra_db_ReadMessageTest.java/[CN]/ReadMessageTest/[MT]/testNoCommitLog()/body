{
  RowMutation rm=new RowMutation("Keyspace1",ByteBufferUtil.bytes("row"));
  rm.add(new QueryPath("Standard1",null,ByteBufferUtil.bytes("commit1")),ByteBufferUtil.bytes("abcd"),0);
  rm.apply();
  rm=new RowMutation("NoCommitlogSpace",ByteBufferUtil.bytes("row"));
  rm.add(new QueryPath("Standard1",null,ByteBufferUtil.bytes("commit2")),ByteBufferUtil.bytes("abcd"),0);
  rm.apply();
  boolean commitLogMessageFound=false;
  boolean noCommitLogMessageFound=false;
  File commitLogDir=new File(DatabaseDescriptor.getCommitLogLocation());
  for (  String filename : commitLogDir.list()) {
    BufferedReader f=new BufferedReader(new FileReader(commitLogDir.getAbsolutePath() + File.separator + filename));
    String line=null;
    while ((line=f.readLine()) != null) {
      if (line.contains("commit1"))       commitLogMessageFound=true;
      if (line.contains("commit2"))       noCommitLogMessageFound=true;
    }
    f.close();
  }
  assertTrue(commitLogMessageFound);
  assertFalse(noCommitLogMessageFound);
}
