{
  logger_.debug("Handling " + request_.getMethod());
  HttpWriteResponse httpServerResponse=new HttpWriteResponse(request_);
  try {
    if (request_.getMethod().toUpperCase().equals("GET")) {
      doGet(request_,httpServerResponse);
    }
 else     if (request_.getMethod().toUpperCase().equals("POST")) {
      doPost(request_,httpServerResponse);
    }
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
  ByteBuffer buffer=null;
  buffer=httpServerResponse.flush();
  logger_.debug("http response is " + buffer.limit() + " bytes");
  request_.getHttpConnection().write(buffer);
}
