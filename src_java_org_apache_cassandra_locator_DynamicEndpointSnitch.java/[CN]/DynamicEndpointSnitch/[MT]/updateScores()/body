{
  if (!StorageService.instance.isInitialized())   return;
  if (!registered) {
    ILatencyPublisher handler=(ILatencyPublisher)MessagingService.instance().getVerbHandler(StorageService.Verb.REQUEST_RESPONSE);
    if (handler != null) {
      handler.register(this);
      registered=true;
    }
  }
  for (  Map.Entry<InetAddress,AdaptiveLatencyTracker> entry : windows.entrySet()) {
    scores.put(entry.getKey(),entry.getValue().score());
  }
  intervalupdates.set(0);
}
