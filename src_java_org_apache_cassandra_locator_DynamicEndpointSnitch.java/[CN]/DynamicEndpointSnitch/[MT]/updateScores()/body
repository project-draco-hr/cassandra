{
  if (!StorageService.instance.isInitialized())   return;
  if (!registered) {
    if (MessagingService.instance() != null) {
      MessagingService.instance().register(this);
      registered=true;
    }
  }
  for (  Map.Entry<InetAddress,BoundedStatsDeque> entry : windows.entrySet()) {
    scores.put(entry.getKey(),entry.getValue().mean());
  }
  intervalupdates.set(0);
}
