{
  if (b.hasArray()) {
    if (b.arrayOffset() == 0 && start == 0 && length == b.array().length)     return b.array();
 else     return Arrays.copyOfRange(b.array(),start + b.arrayOffset(),start + length + b.arrayOffset());
  }
  byte[] bytes=new byte[length];
  for (int i=0; i < length; i++) {
    bytes[i]=b.get(start++);
  }
  return bytes;
}
