{
  if (buffer.hasArray())   return new String(buffer.array(),buffer.arrayOffset() + offset,length + buffer.arrayOffset(),charset);
  byte[] buff=getArray(buffer,offset,length);
  return new String(buff,charset);
}
