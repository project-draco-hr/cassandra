{
  if (bytes.hasArray()) {
    return Hex.bytesToHex(bytes.array(),bytes.arrayOffset() + bytes.position(),bytes.remaining());
  }
  final int offset=bytes.position();
  final int size=bytes.remaining();
  final char[] c=new char[size * 2];
  for (int i=0; i < size; i++) {
    final int bint=bytes.get(i + offset);
    c[i * 2]=Hex.byteToChar[(bint & 0xf0) >> 4];
    c[1 + i * 2]=Hex.byteToChar[bint & 0x0f];
  }
  return Hex.wrapCharArray(c);
}
