{
  IPartitioner partitioner=ss.getPartitioner();
  VersionedValue.VersionedValueFactory valueFactory=new VersionedValue.VersionedValueFactory(partitioner);
  assertEquals(0,tmd.getLeavingEndpoints().size());
  ss.onChange(hosts.get(1),ApplicationState.STATUS,valueFactory.removedNonlocal(endpointTokens.get(1),endpointTokens.get(5)));
  assertFalse(Gossiper.instance.getLiveMembers().contains(hosts.get(5)));
  assertFalse(tmd.isMember(hosts.get(5)));
}
