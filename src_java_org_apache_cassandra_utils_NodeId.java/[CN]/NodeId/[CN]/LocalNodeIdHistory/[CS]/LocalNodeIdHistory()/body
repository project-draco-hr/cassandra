{
  NodeId id=SystemTable.getCurrentLocalNodeId();
  if (id == null) {
    id=generate();
    logger.info("No saved local node id, using newly generated: {}",id);
    SystemTable.writeCurrentLocalNodeId(null,id);
    current=new AtomicReference<NodeId>(id);
    olds=new CopyOnWriteArrayList();
  }
 else {
    logger.info("Saved local node id: {}",id);
    current=new AtomicReference<NodeId>(id);
    olds=new CopyOnWriteArrayList(SystemTable.getOldLocalNodeIds());
  }
}
