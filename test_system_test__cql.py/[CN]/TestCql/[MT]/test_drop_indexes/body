def test_drop_indexes(self):
    'droping indexes on columns'
    cursor = init()
    cursor.execute("CREATE KEYSPACE DropIndexTests WITH strategy_options:replication_factor = '1'\n                                                            AND strategy_class = 'SimpleStrategy';")
    cursor.execute('USE DropIndexTests')
    cursor.execute('CREATE COLUMNFAMILY IndexedCF (KEY text PRIMARY KEY, n text)')
    cursor.execute('CREATE INDEX namedIndex ON IndexedCF (n)')
    ksdef = thrift_client.describe_keyspace('DropIndexTests')
    columns = ksdef.cf_defs[0].column_metadata
    assert (columns[0].index_name == 'namedIndex')
    assert (columns[0].index_type == 0)
    cursor.execute('DROP INDEX namedIndex')
    ksdef = thrift_client.describe_keyspace('DropIndexTests')
    columns = ksdef.cf_defs[0].column_metadata
    assert (columns[0].index_type == None)
    assert (columns[0].index_name == None)
    assert_raises(cql.ProgrammingError, cursor.execute, 'DROP INDEX undefIndex')
