{
  ByteArrayOutputStream byteArrayOStream1=new ByteArrayOutputStream();
  EncodedDataOutputStream odos=new EncodedDataOutputStream(byteArrayOStream1);
  UnfilteredRowIteratorSerializer.serializer.serialize(createCounterTable(),odos,version,1);
  ByteArrayInputStream byteArrayIStream1=new ByteArrayInputStream(byteArrayOStream1.toByteArray());
  EncodedDataInputStream odis=new EncodedDataInputStream(new DataInputStream(byteArrayIStream1));
  UnfilteredRowIterator partition=UnfilteredRowIteratorSerializer.serializer.deserialize(odis,version,SerializationHelper.Flag.LOCAL);
  Assert.assertTrue(Iterators.elementsEqual(partition,createCounterTable()));
  Assert.assertEquals(byteArrayOStream1.size(),(int)UnfilteredRowIteratorSerializer.serializer.serializedSize(createCounterTable(),version,1,TypeSizes.VINT));
}
