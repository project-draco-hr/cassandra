{
  long size=TypeSizes.NATIVE.sizeof(sr.sessionId);
  size+=CompactEndpointSerializationHelper.serializedSize(sr.target);
  size+=TypeSizes.NATIVE.sizeof(true);
  if (sr.file != null)   return size + PendingFile.serializer.serializedSize(sr.file,version);
  size+=FBUtilities.serializedUTF8Size(sr.table);
  size+=TypeSizes.NATIVE.sizeof(sr.ranges.size());
  for (  Range<Token> range : sr.ranges)   size+=AbstractBounds.serializer.serializedSize(range,version);
  if (version > MessagingService.VERSION_07)   size+=FBUtilities.serializedUTF8Size(sr.type.name());
  if (version > MessagingService.VERSION_080) {
    size+=TypeSizes.NATIVE.sizeof(Iterables.size(sr.columnFamilies));
    for (    ColumnFamilyStore cfs : sr.columnFamilies)     size+=TypeSizes.NATIVE.sizeof(cfs.metadata.cfId);
  }
  return size;
}
