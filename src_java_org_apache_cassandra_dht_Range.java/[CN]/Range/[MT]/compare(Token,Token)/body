{
  ByteBuffer l, r;
  if (left.token instanceof byte[]) {
    l=ByteBuffer.wrap((byte[])left.token);
  }
 else   if (left.token instanceof ByteBuffer) {
    l=(ByteBuffer)left.token;
  }
 else {
    return left.compareTo(right);
  }
  if (right.token instanceof byte[]) {
    r=ByteBuffer.wrap((byte[])right.token);
  }
 else {
    r=(ByteBuffer)right.token;
  }
  return ByteBufferUtil.compareUnsigned(l,r);
}
