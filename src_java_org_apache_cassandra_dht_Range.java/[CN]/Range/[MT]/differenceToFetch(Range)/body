{
  Set<Range> difference=new HashSet<Range>();
  int comparisonAC=Range.compare(left,rhs.left);
  if (comparisonAC == 0) {
    if (Range.compare(right,rhs.right) < 0) {
      difference.add(new Range(right,rhs.right));
    }
  }
 else   if (comparisonAC > 0) {
    difference.add(new Range(rhs.left,left));
    if (Range.compare(rhs.right,right) > 0) {
      difference.add(new Range(rhs.right,right));
    }
  }
 else {
    Token newLeft=(Range.compare(rhs.left,right) > 0) ? rhs.left : right;
    difference.add(new Range(newLeft,rhs.right));
  }
  return difference;
}
