{
  differences.addAll(MerkleTree.difference(r1.tree,r2.tree));
  String format=String.format("[repair #%s] Endpoints %s and %s %%s for %s",desc.sessionId,r1.endpoint,r2.endpoint,desc.columnFamily);
  if (differences.isEmpty()) {
    logger.info(String.format(format,"are consistent"));
    MessagingService.instance().sendOneWay(new SyncComplete(desc,r1.endpoint,r2.endpoint,true).createMessage(),FBUtilities.getLocalAddress());
    return;
  }
  logger.info(String.format(format,"have " + differences.size() + " range(s) out of sync"));
  performStreamingRepair();
}
