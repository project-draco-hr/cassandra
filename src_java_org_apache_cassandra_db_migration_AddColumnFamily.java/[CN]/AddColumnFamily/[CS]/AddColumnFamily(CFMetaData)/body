{
  super(System.nanoTime());
  KSMetaData ksm=Schema.instance.getTableDefinition(cfm.ksName);
  if (ksm == null)   throw new ConfigurationException(String.format("Can't add ColumnFamily '%s' to Keyspace '%s': Keyspace does not exist.",cfm.cfName,cfm.ksName));
 else   if (ksm.cfMetaData().containsKey(cfm.cfName))   throw new ConfigurationException(String.format("Can't add ColumnFamily '%s' to Keyspace '%s': Already exists.",cfm.cfName,cfm.ksName));
 else   if (!Migration.isLegalName(cfm.cfName))   throw new ConfigurationException("Can't add ColumnFamily '%s' to Keyspace '%s': Invalid ColumnFamily name.");
  this.cfm=cfm;
}
