{
  String configUrl=System.getProperty("cassandra.config");
  if (configUrl == null)   configUrl=DEFAULT_CONFIGURATION;
  URL url;
  try {
    url=new URL(configUrl);
    url.openStream().close();
  }
 catch (  Exception e) {
    ClassLoader loader=DatabaseDescriptor.class.getClassLoader();
    url=loader.getResource(configUrl);
    if (url == null)     throw new ConfigurationException("Cannot locate " + configUrl + ". If you are executing this from an "+ "external tool, it needs to set Config.setClientMode(true) to avoid loading configuration.\"");
  }
  return url;
}
