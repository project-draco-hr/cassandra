{
  outs.println(String.format("Mode: %s",probe.getOperationMode()));
  Set<InetAddress> hosts=addr == null ? probe.getStreamDestinations() : new HashSet<InetAddress>(){
{
      add(addr);
    }
  }
;
  if (hosts.size() == 0)   outs.println("Not sending any streams.");
  for (  InetAddress host : hosts) {
    try {
      List<String> files=probe.getFilesDestinedFor(host);
      if (files.size() > 0) {
        outs.println(String.format("Streaming to: %s",host));
        for (        String file : files)         outs.println(String.format("   %s",file));
      }
 else {
        outs.println(String.format(" Nothing streaming to %s",host));
      }
    }
 catch (    IOException ex) {
      outs.println(String.format("   Error retrieving file data for %s",host));
    }
  }
  hosts=addr == null ? probe.getStreamSources() : new HashSet<InetAddress>(){
{
      add(addr);
    }
  }
;
  if (hosts.size() == 0)   outs.println("Not receiving any streams.");
  for (  InetAddress host : hosts) {
    try {
      List<String> files=probe.getIncomingFiles(host);
      if (files.size() > 0) {
        outs.println(String.format("Streaming from: %s",host));
        for (        String file : files)         outs.println(String.format("   %s",file));
      }
 else {
        outs.println(String.format(" Nothing streaming from %s",host));
      }
    }
 catch (    IOException ex) {
      outs.println(String.format("   Error retrieving file data for %s",host));
    }
  }
  MessagingServiceMBean ms=probe.getMsProxy();
  outs.print(String.format("%-25s","Pool Name"));
  outs.print(String.format("%10s","Active"));
  outs.print(String.format("%10s","Pending"));
  outs.print(String.format("%15s","Completed"));
  outs.println();
  int pending;
  long completed;
  pending=0;
  for (  int n : ms.getCommandPendingTasks().values())   pending+=n;
  completed=0;
  for (  long n : ms.getCommandCompletedTasks().values())   completed+=n;
  outs.printf("%-25s%10s%10s%15s\n","Commands","n/a",pending,completed);
  pending=0;
  for (  int n : ms.getResponsePendingTasks().values())   pending+=n;
  completed=0;
  for (  long n : ms.getResponseCompletedTasks().values())   completed+=n;
  outs.printf("%-25s%10s%10s%15s\n","Responses","n/a",pending,completed);
}
