{
  Map<Token,String> tokenToEndpoint=probe.getTokenToEndpointMap();
  List<Token> sortedTokens=new ArrayList<Token>(tokenToEndpoint.keySet());
  Collections.sort(sortedTokens);
  Set<String> liveNodes=probe.getLiveNodes();
  Set<String> deadNodes=probe.getUnreachableNodes();
  Set<String> joiningNodes=probe.getJoiningNodes();
  Set<String> leavingNodes=probe.getLeavingNodes();
  Map<String,String> loadMap=probe.getLoadMap();
  outs.print(String.format("%-16s","Address"));
  outs.print(String.format("%-7s","Status"));
  outs.print(String.format("%-8s","State"));
  outs.print(String.format("%-16s","Load"));
  outs.print(String.format("%-44s","Token"));
  outs.println();
  if (sortedTokens.size() > 1)   outs.println(String.format("%-14s%-11s%-14s%-43s","","","",sortedTokens.get(sortedTokens.size() - 1)));
  for (  Token token : sortedTokens) {
    String primaryEndpoint=tokenToEndpoint.get(token);
    outs.print(String.format("%-16s",primaryEndpoint));
    String status=liveNodes.contains(primaryEndpoint) ? "Up" : deadNodes.contains(primaryEndpoint) ? "Down" : "?";
    outs.print(String.format("%-7s",status));
    String state=joiningNodes.contains(primaryEndpoint) ? "Joining" : leavingNodes.contains(primaryEndpoint) ? "Leaving" : "Normal";
    outs.print(String.format("%-8s",state));
    outs.print(String.format("%-16s",loadMap.containsKey(primaryEndpoint) ? loadMap.get(primaryEndpoint) : "?"));
    outs.print(String.format("%-44s",token));
    outs.println();
  }
}
