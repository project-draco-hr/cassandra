{
  if (args.length == 0)   return;
  String cmdLine=Joiner.on(" ").skipNulls().join(args);
  final String password=cmd.getOptionValue(PASSWORD_OPT.left);
  if (password != null)   cmdLine=cmdLine.replace(password,"<hidden>");
  FileWriter writer=null;
  try {
    final String outputDir=FBUtilities.getToolsOutputDirectory().getCanonicalPath();
    writer=new FileWriter(new File(outputDir,HISTORYFILE),true);
    SimpleDateFormat sdf=new SimpleDateFormat("yyyy-MM-dd HH:mm:ss,SSS");
    writer.append(sdf.format(new Date()) + ": " + cmdLine+ "\n");
  }
 catch (  IOException ioe) {
  }
 finally {
    FileUtils.closeQuietly(writer);
  }
}
