{
  usedBuffers.decrementAndGet();
  try {
    if (bufferPool.size() < MAX_BUFFERPOOL_SIZE)     bufferPool.add(buffer);
 else     FileUtils.clean(buffer);
    super.internalClose();
  }
  finally {
    onClose.run();
  }
}
