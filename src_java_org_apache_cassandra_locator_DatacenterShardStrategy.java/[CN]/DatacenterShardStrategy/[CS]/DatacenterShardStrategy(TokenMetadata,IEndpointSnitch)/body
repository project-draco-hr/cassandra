{
  super(tokenMetadata,snitch);
  if ((!(snitch instanceof AbstractRackAwareSnitch)))   throw new IllegalArgumentException("DatacenterShardStrategy requires a rack-aware endpointsnitch");
  this.snitch=(AbstractRackAwareSnitch)snitch;
  reloadConfiguration();
  Runnable runnable=new WrappedRunnable(){
    protected void runMayThrow() throws ConfigurationException {
      reloadConfiguration();
    }
  }
;
  ResourceWatcher.watch(DATACENTER_PROPERTY_FILENAME,runnable,60 * 1000);
}
