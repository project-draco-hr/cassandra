{
  if (c == null || c.isMarkedForDelete()) {
    cqlRows.addColumnValue(null);
    return;
  }
  if (s.hasFunction()) {
switch (s.function()) {
case WRITE_TIME:
      cqlRows.addColumnValue(ByteBufferUtil.bytes(c.timestamp()));
    return;
case TTL:
  if (c instanceof ExpiringColumn) {
    int ttl=((ExpiringColumn)c).getLocalDeletionTime() - (int)(System.currentTimeMillis() / 1000);
    cqlRows.addColumnValue(ByteBufferUtil.bytes(ttl));
  }
 else {
    cqlRows.addColumnValue(null);
  }
return;
}
}
addReturnValue(cqlRows,s,value(c));
}
