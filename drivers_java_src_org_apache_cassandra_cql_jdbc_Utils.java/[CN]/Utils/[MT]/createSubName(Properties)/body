{
  String keyspace=props.getProperty(TAG_DATABASE_NAME);
  if (keyspace != null)   if (!keyspace.startsWith("/"))   keyspace="/" + keyspace;
  String host=props.getProperty(TAG_SERVER_NAME);
  if (host == null)   throw new SQLNonTransientConnectionException(HOST_REQUIRED);
  URI uri;
  try {
    uri=new URI(null,null,host,props.getProperty(TAG_PORT_NUMBER) == null ? DEFAULT_PORT : Integer.parseInt(props.getProperty(TAG_PORT_NUMBER)),keyspace,null,null);
  }
 catch (  Exception e) {
    throw new SQLNonTransientConnectionException(e);
  }
  if (logger.isTraceEnabled())   logger.trace("Subname : '{}' created from : {}",uri.toString(),props);
  return uri.toString();
}
