{
  int fId=ChecksumManager.getFileId(file);
  long key=ChecksumManager.key(fId,chunkId);
  adler_.update(buffer,startOffset,length);
  long currentChksum=adler_.getValue();
  adler_.reset();
  long oldChksum=chksums_.get(key);
  if (currentChksum != oldChksum) {
    throw new IOException("Checksums do not match in file " + file + " for chunk "+ chunkId+ ".");
  }
}
