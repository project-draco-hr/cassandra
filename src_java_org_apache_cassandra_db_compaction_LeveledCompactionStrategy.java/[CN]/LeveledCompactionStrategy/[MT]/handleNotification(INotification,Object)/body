{
  if (notification instanceof SSTableAddedNotification) {
    SSTableAddedNotification flushedNotification=(SSTableAddedNotification)notification;
    manifest.add(flushedNotification.added);
  }
 else   if (notification instanceof SSTableListChangedNotification) {
    SSTableListChangedNotification listChangedNotification=(SSTableListChangedNotification)notification;
switch (listChangedNotification.compactionType) {
case CLEANUP:
case SCRUB:
case UPGRADE_SSTABLES:
case TOMBSTONE_COMPACTION:
      manifest.replace(listChangedNotification.removed,listChangedNotification.added);
    break;
default :
  manifest.promote(listChangedNotification.removed,listChangedNotification.added);
break;
}
}
}
