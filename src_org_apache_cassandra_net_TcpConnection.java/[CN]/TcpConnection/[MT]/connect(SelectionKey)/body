{
  key.interestOps(key.interestOps() & (~SelectionKey.OP_CONNECT));
  try {
    if (socketChannel_.finishConnect()) {
      key.interestOps(key.interestOps() | SelectionKey.OP_READ);
      connected_.set(true);
      if (!pendingWrites_.isEmpty()) {
        key_.interestOps(key_.interestOps() | SelectionKey.OP_WRITE);
      }
      resumeStreaming();
    }
 else {
      logger_.warn("Closing connection because socket channel could not finishConnect.");
      ;
      errorClose();
    }
  }
 catch (  IOException e) {
    logger_.warn("Encountered IOException on connection: " + socketChannel_);
    logger_.warn(LogUtil.throwableToString(e));
    errorClose();
  }
}
