{
  long start=System.nanoTime();
  try {
    Tracing.trace("Committing proposal {}",proposal);
    RowMutation rm=proposal.makeMutation();
    Keyspace.open(rm.getKeyspaceName()).apply(rm,true);
    SystemKeyspace.savePaxosCommit(proposal);
  }
  finally {
    Keyspace.open(proposal.update.metadata().ksName).getColumnFamilyStore(proposal.update.metadata().cfId).metric.casCommit.addNano(System.nanoTime() - start);
  }
}
