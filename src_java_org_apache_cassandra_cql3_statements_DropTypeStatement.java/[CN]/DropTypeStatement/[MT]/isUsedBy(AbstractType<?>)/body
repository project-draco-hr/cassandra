{
  if (toCheck instanceof CompositeType) {
    CompositeType ct=(CompositeType)toCheck;
    if ((ct instanceof UserType)) {
      UserType ut=(UserType)ct;
      if (name.getKeyspace().equals(ut.keyspace) && name.getUserTypeName().equals(ut.name))       return true;
    }
    for (    AbstractType<?> subtype : ct.types)     if (isUsedBy(subtype))     return true;
  }
 else   if (toCheck instanceof ColumnToCollectionType) {
    for (    CollectionType collection : ((ColumnToCollectionType)toCheck).defined.values())     if (isUsedBy(collection))     return true;
  }
 else   if (toCheck instanceof CollectionType) {
    if (toCheck instanceof ListType)     return isUsedBy(((ListType)toCheck).elements);
 else     if (toCheck instanceof SetType)     return isUsedBy(((SetType)toCheck).elements);
 else     return isUsedBy(((MapType)toCheck).keys) || isUsedBy(((MapType)toCheck).keys);
  }
  return false;
}
