{
  try {
    RangeCommand command=RangeCommand.read(message);
    Table table=Table.open(command.table);
    RangeReply rangeReply=table.getColumnFamilyStore(command.columnFamily).getKeyRange(command.startWith,command.stopAt,command.maxResults);
    Message response=rangeReply.getReply(message);
    if (logger.isDebugEnabled())     logger.debug("Sending " + rangeReply + " to "+ message.getMessageId()+ "@"+ message.getFrom());
    MessagingService.instance().sendOneWay(response,message.getFrom());
  }
 catch (  Exception e) {
    throw new RuntimeException(e);
  }
}
