{
  final ByteBuffer eventId=ByteBuffer.wrap(UUIDGen.getTimeUUIDBytes());
  final String threadName=Thread.currentThread().getName();
  StageManager.getStage(Stage.TRACING).execute(new WrappedRunnable(){
    public void runMayThrow() throws Exception {
      CFMetaData cfMeta=CFMetaData.TraceEventsCf;
      ColumnFamily cf=ArrayBackedSortedColumns.factory.create(cfMeta);
      Tracing.addColumn(cf,Tracing.buildName(cfMeta,eventId,ByteBufferUtil.bytes("activity")),message);
      Tracing.addColumn(cf,Tracing.buildName(cfMeta,eventId,ByteBufferUtil.bytes("source")),FBUtilities.getBroadcastAddress());
      if (elapsed >= 0)       Tracing.addColumn(cf,Tracing.buildName(cfMeta,eventId,ByteBufferUtil.bytes("source_elapsed")),elapsed);
      Tracing.addColumn(cf,Tracing.buildName(cfMeta,eventId,ByteBufferUtil.bytes("thread")),threadName);
      RowMutation mutation=new RowMutation(Tracing.TRACE_KS,sessionIdBytes,cf);
      StorageProxy.mutate(Arrays.asList(mutation),ConsistencyLevel.ANY);
    }
  }
);
}
