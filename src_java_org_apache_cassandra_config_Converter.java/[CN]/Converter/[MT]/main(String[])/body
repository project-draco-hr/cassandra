{
  try {
    String oldConfigName;
    ClassLoader loader=Converter.class.getClassLoader();
    URL scpurl=loader.getResource(PREVIOUS_CONF_FILE);
    if (scpurl == null)     scpurl=loader.getResource("storage-conf.xml");
    if (scpurl != null)     oldConfigName=scpurl.getFile();
 else     throw new ConfigurationException("Error finding previous configuration file.");
    System.out.println("Found previous configuration: " + oldConfigName);
    loadPreviousConfig(oldConfigName);
    System.out.println("Creating new configuration cassandra.yaml");
    dumpConfig("cassandra.yaml");
  }
 catch (  IOException e) {
    System.out.println("Error creating new configuration file.");
    System.out.println(e.getMessage());
    e.printStackTrace();
  }
catch (  ConfigurationException e) {
    System.out.println("There was an error during config conversion.");
    System.out.println(e.getMessage());
    e.printStackTrace();
  }
}
