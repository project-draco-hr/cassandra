{
  int liveNodes=0;
  for (  Map.Entry<InetAddress,InetAddress> entry : endpointMap.entrySet()) {
    if (entry.getKey().equals(entry.getValue())) {
      liveNodes++;
    }
  }
  if (liveNodes < blockFor) {
    throw new UnavailableException();
  }
}
