{
  for (  IMutation mutation : mutations) {
    if (mutation instanceof CounterMutation)     continue;
    Token tk=StorageService.getPartitioner().getToken(mutation.key());
    List<InetAddress> naturalEndpoints=StorageService.instance.getNaturalEndpoints(mutation.getKeyspaceName(),tk);
    Collection<InetAddress> pendingEndpoints=StorageService.instance.getTokenMetadata().pendingEndpointsFor(tk,mutation.getKeyspaceName());
    for (    InetAddress target : Iterables.concat(naturalEndpoints,pendingEndpoints)) {
      if (!target.equals(FBUtilities.getBroadcastAddress()) && shouldHint(target))       submitHint((Mutation)mutation,target,null);
    }
  }
  Tracing.trace("Wrote hint to satisfy CL.ANY after no replicas acknowledged the write");
}
