{
  authenticator().setup();
  authorizer().setup();
  MigrationManager.instance.register(new MigrationListener());
  Runnable runnable=new Runnable(){
    public void run(){
      try {
        if (QueryProcessor.process(String.format("SELECT * FROM %s.%s",AUTH_KS,USERS_CF)).isEmpty())         insertUser(DEFAULT_SUPERUSER_NAME,true);
      }
 catch (      UnavailableException e) {
        logger.warn("Skipping default superuser setup: some nodes are unavailable");
      }
    }
  }
;
  StorageService.tasks.schedule(runnable,StorageService.RING_DELAY,TimeUnit.MILLISECONDS);
}
