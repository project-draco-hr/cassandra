{
  Keyspace ks=Keyspace.open(KSNAME);
  ColumnFamilyStore cfs=ks.getColumnFamilyStore(CFNAME);
  cfs.truncateBlocking();
  String key="rt_times";
  Mutation rm=new Mutation(KSNAME,ByteBufferUtil.bytes(key));
  add(rm,5,999);
  rm.apply();
  key="rt_times2";
  rm=new Mutation(KSNAME,ByteBufferUtil.bytes(key));
  ColumnFamily cf=rm.addOrGet(CFNAME);
  int timestamp=(int)(System.currentTimeMillis() / 1000);
  cf.delete(new DeletionInfo(b(1),b(2),cfs.getComparator(),1000,timestamp));
  rm.apply();
  cfs.forceBlockingFlush();
  SSTableReader sstable=cfs.getSSTables().iterator().next();
  assertTimes(sstable.getSSTableMetadata(),999,1000,Integer.MAX_VALUE);
  cfs.forceMajorCompaction();
  sstable=cfs.getSSTables().iterator().next();
  assertTimes(sstable.getSSTableMetadata(),999,1000,Integer.MAX_VALUE);
}
