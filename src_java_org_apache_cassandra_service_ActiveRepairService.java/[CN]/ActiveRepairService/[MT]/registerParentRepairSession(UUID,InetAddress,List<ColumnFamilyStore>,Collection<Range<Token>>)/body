{
  if (!registeredForEndpointChanges) {
    Gossiper.instance.register(this);
    FailureDetector.instance.registerFailureDetectionEventListener(this);
    registeredForEndpointChanges=true;
  }
  cleanupOldParentRepairSessions();
  parentRepairSessions.put(parentRepairSession,new ParentRepairSession(coordinator,columnFamilyStores,ranges,System.currentTimeMillis()));
}
