{
  lock_.lock();
  try {
    boolean bVal=true;
    try {
      if (!done_.get()) {
        bVal=condition_.await(timeout,tu);
      }
    }
 catch (    InterruptedException ex) {
      logger_.warn(LogUtil.throwableToString(ex));
    }
    if (!bVal && !done_.get()) {
      throw new TimeoutException("Operation timed out.");
    }
  }
  finally {
    lock_.unlock();
  }
  return result_;
}
