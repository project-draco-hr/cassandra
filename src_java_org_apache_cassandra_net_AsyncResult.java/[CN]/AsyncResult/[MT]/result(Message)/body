{
  try {
    lock.lock();
    if (!done.get()) {
      from=response.getFrom();
      result=response.getMessageBody();
      done.set(true);
      condition.signal();
    }
  }
  finally {
    lock.unlock();
  }
  MessagingService.removeRegisteredCallback(response.getMessageId());
}
