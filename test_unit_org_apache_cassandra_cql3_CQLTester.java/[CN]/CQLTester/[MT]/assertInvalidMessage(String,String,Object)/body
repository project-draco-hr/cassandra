{
  try {
    execute(query,values);
    String q=USE_PREPARED_VALUES ? query + " (values: " + formatAllValues(values)+ ")" : replaceValues(query,values);
    Assert.fail("Query should be invalid but no error was thrown. Query is: " + q);
  }
 catch (  InvalidRequestException e) {
    if (errorMessage != null) {
      Assert.assertTrue("Expected error message to contain '" + errorMessage + "', but got '"+ e.getMessage()+ "'",e.getMessage().contains(errorMessage));
    }
  }
}
