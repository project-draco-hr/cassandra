{
  boolean disabledWithJMX=!enabled && shouldBeEnabled();
  if (repaired != null)   repaired.shutdown();
  if (unrepaired != null)   unrepaired.shutdown();
  repaired=metadata.createCompactionStrategyInstance(cfs);
  unrepaired=metadata.createCompactionStrategyInstance(cfs);
  options=ImmutableMap.copyOf(metadata.compactionStrategyOptions);
  if (disabledWithJMX || !shouldBeEnabled())   disable();
 else   enable();
  startup();
}
