{
  JMXServiceURL jmxUrl=new JMXServiceURL(String.format(fmtUrl,remoteHost,port));
  JMXConnector jmxc=JMXConnectorFactory.connect(jmxUrl,null);
  StorageServiceMBean ssProxy;
  MBeanServerConnection mbeanServerConn=jmxc.getMBeanServerConnection();
  try {
    ObjectName name=new ObjectName(ssObjName);
    ssProxy=JMX.newMBeanProxy(mbeanServerConn,name,StorageServiceMBean.class);
  }
 catch (  MalformedObjectNameException e) {
    throw new RuntimeException("Invalid ObjectName? Please report this as a bug.",e);
  }
  Map<Range,List<String>> rangeMap=ssProxy.getRangeToEndpointMap(null);
  List<Range> ranges=new ArrayList<Range>(rangeMap.keySet());
  Collections.sort(ranges);
  List<Node> nodes=new ArrayList<Node>();
  for (  Range r : ranges) {
    String host=rangeMap.get(r).get(0);
    NodeStatus status;
    if (host.equals(seedAddress))     status=NodeStatus.ISSEED;
 else     status=NodeStatus.OK;
    String token=r.left.toString();
    nodes.add(new Node(host,status,token));
  }
  return nodes;
}
