{
  String pidFile=System.getProperty("cassandra-pidfile");
  try {
    setup();
    if (pidFile != null) {
      new File(pidFile).deleteOnExit();
    }
    if (System.getProperty("cassandra-foreground") == null) {
      System.out.close();
      System.err.close();
    }
    start();
  }
 catch (  Throwable e) {
    logger.error("Exception encountered during startup",e);
    e.printStackTrace();
    System.out.println("Exception encountered during startup: " + e.getMessage());
    System.exit(3);
  }
}
