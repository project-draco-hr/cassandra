{
  GossipDigestSerializationHelper.serialize(gDigestAckMessage.gDigestList,dos,version);
  if (version < MessagingService.VERSION_12)   dos.writeBoolean(true);
  dos.writeInt(gDigestAckMessage.epStateMap.size());
  for (  Map.Entry<InetAddress,EndpointState> entry : gDigestAckMessage.epStateMap.entrySet()) {
    InetAddress ep=entry.getKey();
    CompactEndpointSerializationHelper.serialize(ep,dos);
    EndpointState.serializer.serialize(entry.getValue(),dos,version);
  }
}
