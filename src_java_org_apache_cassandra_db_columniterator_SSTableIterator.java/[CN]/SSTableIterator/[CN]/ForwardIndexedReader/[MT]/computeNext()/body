{
  int currentBlockIdx=indexState.currentBlockIdx();
  if (indexState.isPastCurrentBlock() && currentBlockIdx + 1 < indexState.blocksCount())   indexState.setToBlock(currentBlockIdx + 1);
  if (indexState.isDone() || indexState.currentBlockIdx() > lastBlockIdx || !deserializer.hasNext() || (indexState.currentBlockIdx() == lastBlockIdx && deserializer.compareNextTo(end) > 0))   return null;
  Unfiltered next=deserializer.readNext();
  if (next.kind() == Unfiltered.Kind.RANGE_TOMBSTONE_MARKER)   updateOpenMarker((RangeTombstoneMarker)next);
  return next;
}
