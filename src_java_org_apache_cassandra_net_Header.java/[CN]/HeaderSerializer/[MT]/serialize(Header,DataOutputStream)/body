{
  dos.writeUTF(t.getMessageId());
  CompactEndpointSerializationHelper.serialize(t.getFrom(),dos);
  dos.writeInt(t.getMessageType().ordinal());
  dos.writeInt(t.getVerb().ordinal());
  int size=t.details_.size();
  dos.writeInt(size);
  Set<String> keys=t.details_.keySet();
  for (  String key : keys) {
    dos.writeUTF(key);
    byte[] value=t.details_.get(key);
    dos.writeInt(value.length);
    dos.write(value);
  }
}
