{
  records.clear();
  checksum.reset();
  Iterator<String> it=FileUtils.readLines(file).iterator();
  while (it.hasNext())   records.add(readRecord(it.next(),!it.hasNext()));
  for (  Record record : records) {
    if (!record.verify(parent.getFolder(),false))     throw new CorruptTransactionLogException(String.format("Failed to verify transaction %s record [%s]: unexpected disk state, aborting",parent.getId(),record),this);
  }
}
