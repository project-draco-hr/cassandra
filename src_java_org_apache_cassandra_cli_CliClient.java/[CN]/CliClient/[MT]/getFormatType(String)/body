{
  Function function;
  try {
    function=Function.valueOf(compareWith.toUpperCase());
  }
 catch (  IllegalArgumentException e) {
    try {
      return TypeParser.parse(compareWith);
    }
 catch (    RequestValidationException ce) {
      String message=String.format("Unknown comparator '%s'. Available functions: %s",compareWith,Function.getFunctionNames());
      throw new RuntimeException(message,e);
    }
  }
  return function.getValidator();
}
