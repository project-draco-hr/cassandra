{
  if (DatabaseDescriptor.getAuthenticator() instanceof AllowAllAuthenticator)   return;
  if (!loginDone.get())   throw new InvalidRequestException("Login is required before any other API calls");
}
