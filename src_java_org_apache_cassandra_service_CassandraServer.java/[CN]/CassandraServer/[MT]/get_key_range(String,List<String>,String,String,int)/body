{
  logger.debug("get_key_range");
  validateCommand(tablename,columnFamilies.toArray(new String[columnFamilies.size()]));
  if (!(StorageService.getPartitioner() instanceof OrderPreservingPartitioner)) {
    throw new InvalidRequestException("range queries may only be performed against an order-preserving partitioner");
  }
  if (maxResults <= 0) {
    throw new InvalidRequestException("maxResults must be positive");
  }
  return StorageProxy.getKeyRange(new RangeCommand(tablename,columnFamilies,startWith,stopAt,maxResults));
}
