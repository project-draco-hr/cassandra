{
  StringBuilder sb=new StringBuilder();
  Map<BigInteger,EndPoint> tokenToEndPointMap=tokenMetadata_.cloneTokenEndPointMap();
  Set<BigInteger> tokens=tokenToEndPointMap.keySet();
  Range[] ranges=getAllRanges(tokens);
  Map<Range,List<EndPoint>> oldRangeToEndPointMap=constructRangeToEndPointMap(ranges);
  Set<Range> rangeSet=oldRangeToEndPointMap.keySet();
  for (  Range range : rangeSet) {
    sb.append(range);
    sb.append(" : ");
    List<EndPoint> replicas=oldRangeToEndPointMap.get(range);
    for (    EndPoint replica : replicas) {
      sb.append(replica);
      sb.append(" ");
    }
    sb.append(System.getProperty("line.separator"));
  }
  return sb.toString();
}
