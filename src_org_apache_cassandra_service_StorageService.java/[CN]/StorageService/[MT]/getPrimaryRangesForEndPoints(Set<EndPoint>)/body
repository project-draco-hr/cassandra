{
  List<Range> allRanges=new ArrayList<Range>();
  for (  EndPoint endpoint : endpoints) {
    allRanges.add(getPrimaryRangeForEndPoint(endpoint));
  }
  return allRanges.toArray(new Range[0]);
}
