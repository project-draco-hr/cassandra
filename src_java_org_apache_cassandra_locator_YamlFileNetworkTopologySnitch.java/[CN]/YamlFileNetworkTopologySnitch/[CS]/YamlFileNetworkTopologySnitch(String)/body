{
  this.topologyConfigFilename=topologyConfigFilename;
  loadTopologyConfiguration();
  try {
    FBUtilities.resourceToFile(topologyConfigFilename);
    final Runnable runnable=new WrappedRunnable(){
      /** 
 * Loads the topology.
 */
      protected void runMayThrow() throws ConfigurationException {
        loadTopologyConfiguration();
      }
    }
;
    ResourceWatcher.watch(topologyConfigFilename,runnable,checkPeriodInMs);
  }
 catch (  final ConfigurationException e) {
    logger.debug("{} found, but does not look like a plain file. Will not watch it for changes",topologyConfigFilename);
  }
}
