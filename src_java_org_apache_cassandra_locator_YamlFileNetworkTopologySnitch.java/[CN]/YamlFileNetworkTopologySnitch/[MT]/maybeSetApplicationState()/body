{
  if (localNodeData.dcLocalAddress == null)   return;
  final EndpointState es=Gossiper.instance.getEndpointStateForEndpoint(FBUtilities.getBroadcastAddress());
  if (es == null)   return;
  final VersionedValue vv=es.getApplicationState(ApplicationState.INTERNAL_IP);
  if ((vv != null && !vv.value.equals(localNodeData.dcLocalAddress.getHostAddress())) || vv == null) {
    Gossiper.instance.addLocalApplicationState(ApplicationState.INTERNAL_IP,StorageService.instance.valueFactory.internalIP(localNodeData.dcLocalAddress.getHostAddress()));
  }
}
